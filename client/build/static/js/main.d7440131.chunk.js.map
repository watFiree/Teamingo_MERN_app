{"version":3,"sources":["styles/SimpleTeamCard.module.scss","styles/ProfileView.module.scss","styles/MainView.module.scss","styles/TeamsView.module.scss","styles/NoteDetailsView.module.scss","styles/UserCard.module.scss","styles/ProfileAction.module.scss","styles/Invitation.module.scss","styles/NoteActionForm.module.scss","styles/Header.module.scss","context/index.js","redux/reducers/userReducer.js","redux/actions/actionTypes.js","redux/reducers/notesReducer.js","redux/reducers/teamsReducer.js","redux/reducers/rootReducer.js","redux/store/index.js","redux/actions/authUser.js","views/SignUpView.js","views/SignInView.js","redux/actions/deleteNote.js","components/Dialog.js","components/NoteCard.js","components/Header.js","redux/actions/refreshData.js","hoc/withProtection.js","views/MainView.js","redux/actions/getNotes.js","redux/actions/leaveTeam.js","redux/actions/deleteTeam.js","components/TeamCard.js","redux/actions/getTeams.js","views/TeamsView.js","views/NoteDetailsView.js","redux/actions/createNote.js","components/CreateNote.js","redux/actions/editNote.js","components/EditNote.js","components/AddAction.js","redux/actions/removeUser.js","redux/actions/promoteUser.js","redux/actions/degradeUser.js","components/UserCard.js","components/ManageMembers.js","redux/actions/inviteUser.js","views/TeamDetailsView.js","redux/actions/createTeam.js","components/CreateTeam.js","redux/actions/editTeam.js","components/EditTeam.js","components/SimpleTeamCard.js","redux/actions/addUser.js","redux/actions/removeInvitation.js","components/Invitation.js","views/ManageTeamsView.js","redux/actions/editUser.js","components/ProfileAction.js","views/ProfileView.js","redux/actions/deleteUser.js","views/Root.js","serviceWorker.js","index.js","styles/TeamActionForm.module.scss","styles/Link.module.scss","styles/TeamDetailsView.module.scss","styles/ManageMembers.module.scss","styles/ManageTeamsView.module.scss"],"names":["module","exports","Context","React","createContext","initialState","authenticated","data","nickname","id","invitations","notesId","teamsId","processing","error","userReducer","state","action","type","payload","notes","teams","_id","filter","includes","item","teamId","notesIds","updated","loading","creating","editing","deleting","notesReducer","map","note","teamName","name","teamColor","color","teamsReducer","index","team","users","user","userId","creators","rootReducer","combineReducers","devtools","window","__REDUX_DEVTOOLS_EXTENSION__","store","createStore","compose","applyMiddleware","thunk","authUser","connect","dispatch","setAuth","history","useHistory","useState","setNickname","email","setEmail","password","setPassword","setError","handleChange","e","target","value","classes","makeStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","link","useStyles","Container","component","maxWidth","CssBaseline","className","Typography","variant","onSubmit","preventDefault","axios","post","then","res","status","push","catch","response","message","method","TextField","required","fullWidth","onChange","label","autoFocus","Button","Grid","container","justify","to","styles","xs","deleteNote","input","delete","err","DialogComponent","children","open","disagreeFnc","agreeFnc","Dialog","onClose","aria-labelledby","aria-describedby","DialogTitle","DialogContent","DialogContentText","DialogActions","onClick","deleteOne","title","coverImg","author","content","idLink","admin","creator","edit","setEdit","dialog","setDialog","useEffect","root","minWidth","media","height","paddingTop","currentDataToEdit","useContext","Card","CardHeader","Avatar","aria-label","toUpperCase","subheader","CardMedia","image","CardContent","gutterBottom","noWrap","CardActions","size","disabled","isAuth","logout","anchorEl","setAnchorEl","Boolean","handleClose","wrapper","navigation","IconButton","accountIcon","aria-controls","aria-haspopup","event","currentTarget","Menu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","MenuItem","refreshData","get","refreshDataSuccess","composedHOC","updateUsersData","WrappedComponent","match","withProtection","setData","params","ids","paramsSerializer","qs","stringify","getNotes","length","grid","role","CircularProgress","loader","key","leaveTeam","leaveTeamSuccess","deleteTeam","deleteTeamSuccess","leaveFunction","deleteFunction","isAdmin","handleLeave","List","disablePadding","ListItem","ListItemIcon","fontSize","ListItemText","primary","getTeams","setTeams","setState","currNote","find","x","heading","createNote","getState","createNoteSuccess","teamIndex","number","createNoteSuccessUpdateTeam","sentCreation","teamData","setNote","handleInputChange","icon","autoComplete","multiline","rows","button","editNoteStarted","editNote","put","console","log","editNoteSuccess","updateData","defaultValue","AddAction","text","emoji","Tooltip","Fab","removeUser","removeUserSuccess","promoteUser","promoteUserSuccess","degradeUser","degradeUserSuccess","sendRemoval","makeCreator","makeMember","promoted","remove","setRemove","handleAgreement","buttons","sendInvitation","useRef","list","list__header","some","person","ref","current","reset","isCreateNoteOpen","isCreateNoteOpenChange","isEditNoteOpen","isEditNoteOpenChange","isManageMembersOpen","isManageMembersOpenChange","items","setItems","setAdmin","setCreator","editingNote","filtredNotes","header","info","ListItemAvatar","Divider","actions__wrapper","createTeam","createTeamSuccess","createFunction","Math","floor","random","toString","editTeam","editTeamSuccess","setTeam","visibility","setVisibility","group","picker","hex","deleteThis","addUser","addUserSuccess","removeInvitation","removeInvitationSuccess","acceptInvitation","rejectInvitation","isCreateTeamOpen","isCreateTeamOpenChange","isEditTeamOpen","isEditTeamOpenChange","ownedTeams","setOwnedTeams","editingTeam","filtredTeams","actions","CreateTeam","editUser","editUserSuccess","updateUser","last","deleteUsersTeam","deleteCurrentUser","ownTeams","setOwnTeams","container__profile","container__actions","forEach","Root","Provider","exact","path","MainView","TeamsView","TeamDetailsView","ManageTeamsView","NoteDetailsView","ProfileView","SignInView","SignUpView","location","hostname","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.d7440131.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SimpleTeamCard_container__FOJe1\",\"link\":\"SimpleTeamCard_link__1-zHw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ProfileView_container__2-L2d\",\"container__actions\":\"ProfileView_container__actions__1Y7pY\",\"container__profile\":\"ProfileView_container__profile__1pIAm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"grid\":\"MainView_grid__3Kf7K\",\"loader\":\"MainView_loader__2CCyM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"grid\":\"TeamsView_grid__1w6lV\",\"loader\":\"TeamsView_loader__2Ze30\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"heading\":\"NoteDetailsView_heading__DKwTF\",\"content\":\"NoteDetailsView_content__3oRrF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"UserCard_container__tou_Q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ProfileAction_container__2B3UB\",\"form\":\"ProfileAction_form__3Vk34\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Invitation_container__l8toV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"NoteActionForm_container__13sMq\",\"form\":\"NoteActionForm_form__1bzVv\",\"input\":\"NoteActionForm_input__a3c_t\",\"button\":\"NoteActionForm_button__3-9eE\",\"icon\":\"NoteActionForm_icon__2U6CV\",\"close\":\"NoteActionForm_close__2ccMa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Header_wrapper__3J5ID\",\"navigation\":\"Header_navigation__2A-GZ\",\"link\":\"Header_link__3J2rW\",\"accountIcon\":\"Header_accountIcon__2BoQ_\"};","import React from 'react'\r\n\r\nexport const Context = React.createContext()\r\n\r\n","import * as types from '../actions/actionTypes';\r\n\r\nconst initialState = {\r\n  authenticated: false,\r\n  data: { nickname: ' ', id: ' ' },\r\n  invitations: [],\r\n  notesId: [],\r\n  teamsId: [],\r\n  processing: false,\r\n  error: null,\r\n};\r\n\r\nconst userReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case types.USER_LOGOUT:\r\n      return {\r\n        ...initialState,\r\n      };\r\n    case types.USER_AUTH:\r\n      return {\r\n        ...state,\r\n        authenticated: true,\r\n        error: null,\r\n        data: {\r\n          ...state.data,\r\n          nickname: action.payload.nickname,\r\n          id: action.payload.id,\r\n        },\r\n        invitations: [...action.payload.invitations],\r\n        notesId: [...action.payload.notes],\r\n        teamsId: [...action.payload.teams],\r\n      };\r\n    case types.REFRESH_DATA_STARTED:\r\n      return{\r\n        ...state,\r\n        processing: true,\r\n      };\r\n    case types.REFRESH_DATA_SUCCESS:\r\n      return{\r\n        ...state,\r\n        processing:false,\r\n        error: null,\r\n        invitations: [...action.payload.invitations],\r\n        notesId: [...action.payload.notes],\r\n        teamsId: [...action.payload.teams],\r\n      };\r\n    case types.REMOVE_USER_FAILURE:\r\n      return{\r\n        ...state,\r\n        processing: false,\r\n        error: action.payload.error\r\n      };\r\n    case types.CREATE_NOTE_SUCCESS:\r\n      return {\r\n        ...state,\r\n        notesId: [...state.notesId, action.payload._id],\r\n      };\r\n    case types.CREATE_TEAM_SUCCESS:\r\n      return {\r\n        ...state,\r\n        teamsId: [...state.teamsId, action.payload._id],\r\n      };\r\n    case types.DELETE_NOTE_SUCCESS:\r\n      return {\r\n        ...state,\r\n        notesId: [...state.notesId.filter((id) => id !== action.payload.id)],\r\n      };\r\n    case types.DELETE_TEAM_SUCCESS:\r\n      return {\r\n        ...state,\r\n        notesId: [\r\n          ...state.notesId.filter((id) => !action.payload.notes.includes(id)),\r\n        ],\r\n        teamsId: [...state.teamsId.filter((id) => id !== action.payload.id)],\r\n      };\r\n    case types.ADD_USER_STARTED:\r\n      return {\r\n        ...state,\r\n        processing: true,\r\n      };\r\n    case types.ADD_USER_SUCCESS:\r\n      return {\r\n        ...state,\r\n        invitations: [\r\n          ...state.invitations.filter(\r\n            (item) => item.teamId !== action.payload._id,\r\n          ),\r\n        ],\r\n        notesId: [...state.notesId, ...action.payload.notes],\r\n        teamsId: [...state.teamsId, action.payload._id],\r\n        processing: false,\r\n        error: null,\r\n      };\r\n    case types.ADD_USER_FAILURE:\r\n      return {\r\n        ...state,\r\n        processing: false,\r\n        error: action.payload.error,\r\n      };\r\n    case types.REMOVE_INVITATION_STARTED:\r\n      return {\r\n        ...state,\r\n        processing: true,\r\n      };\r\n    case types.REMOVE_INVITATION_SUCCESS:\r\n      return {\r\n        ...state,\r\n        processing: false,\r\n        error: null,\r\n        invitations: [\r\n          ...state.invitations.filter(\r\n            (item) => item.teamId !== action.payload.teamId,\r\n          ),\r\n        ],\r\n      };\r\n    case types.REMOVE_INVITATION_FAILURE:\r\n      return {\r\n        ...state,\r\n        processing: false,\r\n        error: action.payload.error,\r\n      };\r\n    case types.LEAVE_TEAM_STARTED:\r\n      return {\r\n        ...state,\r\n        processing: true,\r\n      };\r\n    case types.LEAVE_TEAM_SUCCESS:\r\n      return {\r\n        ...state,\r\n        processing: false,\r\n        error: null,\r\n        notesId: [\r\n          ...state.notesId.filter(\r\n            (id) => !action.payload.notesIds.includes(id),\r\n          ),\r\n        ],\r\n        teamsId: [\r\n          ...state.teamsId.filter((id) => id !== action.payload.teamId),\r\n        ],\r\n      };\r\n    case types.LEAVE_TEAM_FAILURE:\r\n      return {\r\n        ...state,\r\n        processing: false,\r\n        error: action.payload.error,\r\n      };\r\n    case types.EDIT_USER_STARTED:\r\n      return {\r\n        ...state,\r\n        processing: true,\r\n      };\r\n    case types.EDIT_USER_SUCCESS:\r\n      return {\r\n        ...state,\r\n        processing: false,\r\n        error: null,\r\n        data: {\r\n          ...state.data,\r\n          nickname:\r\n            action.payload.type === 'nickname'\r\n              ? action.payload.updated\r\n              : state.data.nickname,\r\n        },\r\n      };\r\n    case types.EDIT_USER_FAILURE:\r\n      return {\r\n        ...state,\r\n        processing: false,\r\n        error: action.payload.error,\r\n      };\r\n    case types.DELETE_USER_STARTED:\r\n      return {\r\n        ...state,\r\n        processing: true,\r\n      };\r\n    case types.DELETE_USER_SUCCESS:\r\n      return {\r\n        ...initialState,\r\n      };\r\n    case types.DELETE_USER_FAILURE:\r\n      return {\r\n        ...state,\r\n        processing: false,\r\n        error: action.payload.error,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default userReducer;\r\n","// user\r\nexport const USER_AUTH = \"USER_AUTH\";\r\nexport const USER_LOGOUT = \" USER_LOGOUT\";\r\nexport const INVITE_USER_STARTED = \"INVITE_USER_STARTED\";\r\nexport const INVITE_USER_SUCCESS = \"INVITE_USER_SUCCESS\";\r\nexport const INVITE_USER_FAILURE = \"INVITE_USER_FAILURE\";\r\nexport const ADD_USER_STARTED = \"ADD_USER_STARTED\";\r\nexport const ADD_USER_SUCCESS = \"ADD_USER_SUCCESS\";\r\nexport const ADD_USER_FAILURE = \"ADD_USER_FAILURE\";\r\nexport const EDIT_USER_STARTED = \"EDIT_USER_STARTED\";\r\nexport const EDIT_USER_SUCCESS = \"EDIT_USER_SUCCESS\";\r\nexport const EDIT_USER_FAILURE = \"EDIT_USER_FAILURE\";\r\nexport const REMOVE_USER_STARTED = \"REMOVE_USER_STARTED\";\r\nexport const REMOVE_USER_SUCCESS = \"REMOVE_USER_SUCCESS\";\r\nexport const REMOVE_USER_FAILURE = \"REMOVE_USER_FAILURE\";\r\nexport const PROMOTE_USER_STARTED = \"PROMOTE_USER_STARTED\";\r\nexport const PROMOTE_USER_SUCCESS = \"PROMOTE_USER_SUCCESS\";\r\nexport const PROMOTE_USER_FAILURE = \"PROMOTE_USER_FAILURE\";\r\nexport const DEGRADE_USER_STARTED = \"DEGRADE_USER_STARTED\";\r\nexport const DEGRADE_USER_SUCCESS = \"DEGRADE_USER_SUCCESS\";\r\nexport const DEGRADE_USER_FAILURE = \"DEGRADE_USER_FAILURE\";\r\nexport const DELETE_USER_STARTED = \"DELETE_USER_STARTED\";\r\nexport const DELETE_USER_SUCCESS = \"DELETE_USER_SUCCESS\";\r\nexport const DELETE_USER_FAILURE = \"DELETE_USER_FAILURE\";\r\nexport const REMOVE_INVITATION_STARTED = \"REMOVE_INVITATION_STARTED\";\r\nexport const REMOVE_INVITATION_SUCCESS = \"REMOVE_INVITATION_SUCCESS\";\r\nexport const REMOVE_INVITATION_FAILURE = \"REMOVE_INVITATION_FAILURE\";\r\nexport const LEAVE_TEAM_STARTED = \"LEAVE_TEAM_STARTED\";\r\nexport const LEAVE_TEAM_SUCCESS = \"LEAVE_TEAM_SUCCESS\";\r\nexport const LEAVE_TEAM_FAILURE = \"LEAVE_TEAM_FAILURE\";\r\nexport const REFRESH_DATA_STARTED = \"REFRESH_DATA_STARTED\";\r\nexport const REFRESH_DATA_SUCCESS = \"REFRESH_DATA_SUCCESS\";\r\nexport const REFRESH_DATA_FAILURE = \"REFRESH_DATA_FAILURE\";\r\n\r\n// notes \r\nexport const GET_NOTES_STARTED = \"GET_NOTES_STARTED\";\r\nexport const GET_NOTES_SUCCESS = \"GET_NOTES_SUCCESS\";\r\nexport const GET_NOTES_FAILURE = \"GET_NOTES_FAILURE\";\r\nexport const CREATE_NOTE_STARTED = \"CREATE_NOTE_STARTED\";\r\nexport const CREATE_NOTE_SUCCESS = \"CREATE_NOTE_SUCCESS\";\r\nexport const CREATE_NOTE_FAILURE = \"CREATE_NOTE_FAILURE\";\r\nexport const CREATE_NOTE_SUCCESS_UPDATE_TEAM = \"CREATE_NOTE_SUCCESS_UPDATE_TEAM\";\r\nexport const DELETE_NOTE_STARTED = \"DELETE_NOTE_STARTED\";\r\nexport const DELETE_NOTE_SUCCESS = \"DELETE_NOTE_SUCCESS\";\r\nexport const DELETE_NOTE_FAILURE = \"DELETE_NOTE_FAILURE\";\r\nexport const EDIT_NOTE_STARTED = \"EDIT_NOTE_STARTED\";\r\nexport const EDIT_NOTE_SUCCESS = \"EDIT_NOTE_SUCCESS\";\r\nexport const EDIT_NOTE_FAILURE = \"EDIT_NOTE_FAILURE\";\r\n\r\n// teams\r\nexport const GET_TEAMS_STARTED = \"GET_TEAMS_STARTED\";\r\nexport const GET_TEAMS_SUCCESS = \"GET_TEAMS_SUCCESS\";\r\nexport const GET_TEAMS_FAILURE = \"GET_TEAMS_FAILURE\";\r\nexport const GET_TEAMS_EXIST = \"GET_TEAMS_EXIST\";\r\nexport const CREATE_TEAM_STARTED = \"CREATE_TEAM_STARTED\";\r\nexport const CREATE_TEAM_SUCCESS = \"CREATE_TEAM_SUCCESS\";\r\nexport const CREATE_TEAM_FAILURE = \"CREATE_TEAM_FAILURE\";\r\nexport const DELETE_TEAM_STARTED = \"DELETE_TEAM_STARTED\";\r\nexport const DELETE_TEAM_SUCCESS = \"DELETE_TEAM_SUCCESS\";\r\nexport const DELETE_TEAM_FAILURE = \"DELETE_TEAM_FAILURE\";\r\nexport const EDIT_TEAM_STARTED = \"EDIT_TEAM_STARTED\";\r\nexport const EDIT_TEAM_SUCCESS = \"EDIT_TEAM_SUCCESS\";\r\nexport const EDIT_TEAM_FAILURE = \"EDIT_TEAM_FAILURE\";\r\n","import * as types from '../actions/actionTypes';\r\n\r\nconst initialState = {\r\n  data: [],\r\n  loading: false,\r\n  creating: false,\r\n  editing: false,\r\n  deleting: false,\r\n  error: null,\r\n};\r\n\r\nconst notesReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case types.USER_LOGOUT:\r\n      return {\r\n        ...initialState,\r\n      };\r\n    case types.GET_NOTES_STARTED:\r\n      return {\r\n        ...state,\r\n        ...state.notes,\r\n        loading: true,\r\n      };\r\n    case types.GET_NOTES_SUCCESS:\r\n      return {\r\n        ...state,\r\n        ...state.notes,\r\n        loading: false,\r\n        error: null,\r\n        data: [...action.payload.notes],\r\n      };\r\n    case types.GET_NOTES_FAILURE:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: action.payload.error,\r\n      };\r\n    case types.CREATE_NOTE_STARTED:\r\n      return {\r\n        ...state,\r\n        creating: true,\r\n      };\r\n    case types.CREATE_NOTE_SUCCESS:\r\n      return {\r\n        ...state,\r\n        creating: false,\r\n        error: null,\r\n        data: [...state.data, action.payload],\r\n      };\r\n    case types.CREATE_NOTE_FAILURE:\r\n      return {\r\n        ...state,\r\n        creating: false,\r\n        error: action.payload.error,\r\n      };\r\n    case types.DELETE_NOTE_STARTED:\r\n      return {\r\n        ...state,\r\n        deleting: true,\r\n      };\r\n    case types.DELETE_NOTE_SUCCESS:\r\n      return {\r\n        ...state,\r\n        deleting: false,\r\n        data: [...state.data.filter((item) => item._id !== action.payload.id)],\r\n      };\r\n    case types.DELETE_NOTE_FAILURE:\r\n      return {\r\n        ...state,\r\n        deleting: false,\r\n        error: action.payload.error,\r\n      };\r\n    case types.DELETE_TEAM_SUCCESS:\r\n      return {\r\n        ...state,\r\n        data: [\r\n          ...state.data.filter(\r\n            (item) => !action.payload.notes.includes(item._id),\r\n          ),\r\n        ],\r\n      };\r\n    case types.EDIT_NOTE_STARTED:\r\n      return {\r\n        ...state,\r\n        editing: true,\r\n      };\r\n    case types.EDIT_NOTE_SUCCESS:\r\n      return {\r\n        ...state,\r\n        editing: false,\r\n        data: [\r\n          ...state.data.map((note) =>\r\n            note._id === action.payload._id ? { ...action.payload } : note,\r\n          ),\r\n        ],\r\n      };\r\n    case types.EDIT_NOTE_FAILURE:\r\n      return {\r\n        ...state,\r\n        editing: false,\r\n        error: action.payload.error,\r\n      };\r\n    case types.EDIT_TEAM_SUCCESS:\r\n      return {\r\n        ...state,\r\n        data: [\r\n          ...state.data.map((note) =>\r\n            action.payload.notes.includes(note._id)\r\n              ? {\r\n                  ...note,\r\n                  teamName: action.payload.name,\r\n                  teamColor: action.payload.color,\r\n                }\r\n              : note,\r\n          ),\r\n        ],\r\n      };\r\n    case types.LEAVE_TEAM_SUCCESS:\r\n      return {\r\n        ...state,\r\n        data: [\r\n          ...state.data.filter(\r\n            (item) => !action.payload.notesIds.includes(item._id),\r\n          ),\r\n        ],\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default notesReducer;\r\n","import * as types from '../actions/actionTypes';\r\n\r\nconst initialState = {\r\n  data: [],\r\n  loading: false,\r\n  creating: false,\r\n  editing: false,\r\n  deleting: false,\r\n  error: null,\r\n};\r\n\r\nconst teamsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case types.USER_LOGOUT:\r\n      return {\r\n        ...initialState,\r\n      };\r\n    case types.GET_TEAMS_STARTED:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case types.GET_TEAMS_SUCCESS:\r\n      return {\r\n        ...state,\r\n        ...state.teams,\r\n        loading: false,\r\n        error: null,\r\n        data: [...action.payload.teams],\r\n      };\r\n    case types.GET_TEAMS_FAILURE:\r\n      return {\r\n        ...state,\r\n        ...state.teams,\r\n        loading: false,\r\n        error: action.payload.error,\r\n      };\r\n    case types.CREATE_NOTE_SUCCESS_UPDATE_TEAM:\r\n      return {\r\n        ...state,\r\n        data: [\r\n          ...state.data.map((item, index) =>\r\n            index === action.payload.index\r\n              ? { ...item, notes: [...item.notes, action.payload.id] }\r\n              : item,\r\n          ),\r\n        ],\r\n      };\r\n    case types.CREATE_TEAM_STARTED:\r\n      return {\r\n        ...state,\r\n        creating: true,\r\n      };\r\n    case types.CREATE_TEAM_SUCCESS:\r\n      return {\r\n        ...state,\r\n        creating: false,\r\n        error:null,\r\n        data: [...state.data, action.payload],\r\n      };\r\n    case types.CREATE_TEAM_FAILURE:\r\n      return {\r\n        ...state,\r\n        creating: false,\r\n        error: action.payload.error,\r\n      };\r\n    case types.DELETE_NOTE_SUCCESS:\r\n      return {\r\n        ...state,\r\n        data: [\r\n          ...state.data.map((item) =>\r\n            item.name === action.payload.teamName\r\n              ? {\r\n                  ...item,\r\n                  notes: [\r\n                    ...item.notes.filter((id) => id !== action.payload.id),\r\n                  ],\r\n                }\r\n              : item,\r\n          ),\r\n        ],\r\n      };\r\n    case types.DELETE_TEAM_STARTED:\r\n      return {\r\n        ...state,\r\n        deleting: true,\r\n      };\r\n    case types.DELETE_TEAM_SUCCESS:\r\n      return {\r\n        ...state,\r\n        deleting: false,\r\n        data: [...state.data.filter((item) => item._id !== action.payload.id)],\r\n      };\r\n    case types.DELETE_TEAM_FAILURE:\r\n      return {\r\n        ...state,\r\n        deleting: false,\r\n        error: action.payload.error,\r\n      };\r\n    case types.EDIT_TEAM_STARTED:\r\n      return {\r\n        ...state,\r\n        editing: true,\r\n      };\r\n    case types.EDIT_TEAM_SUCCESS:\r\n      return {\r\n        ...state,\r\n        editing: false,\r\n        error: false,\r\n        data: [\r\n          ...state.data.map((team) =>\r\n            team._id === action.payload._id ? { ...action.payload } : team,\r\n          ),\r\n        ],\r\n      };\r\n    case types.GET_NOTES_FAILURE:\r\n      return {\r\n        ...state,\r\n        editing: false,\r\n        error: action.payload.error,\r\n      };\r\n    case types.INVITE_USER_STARTED:\r\n      return {\r\n        ...state,\r\n        editing: true,\r\n      };\r\n    case types.INVITE_USER_SUCCESS:\r\n      return {\r\n        ...state,\r\n        editing: false,\r\n        error: null\r\n      };\r\n    case types.INVITE_USER_FAILURE:\r\n      return {\r\n        ...state,\r\n        editing: false,\r\n        error: action.payload.error,\r\n      };\r\n    case types.ADD_USER_SUCCESS:\r\n      return {\r\n        ...state,\r\n        data: [...state.data, action.payload],\r\n      };\r\n    case types.REMOVE_USER_STARTED:\r\n      return {\r\n        ...state,\r\n        editing: true,\r\n      };\r\n    case types.REMOVE_USER_SUCCESS:\r\n      return {\r\n        ...state,\r\n        editing: false,\r\n        data: [\r\n          ...state.data.map((team) =>\r\n            team._id === action.payload.teamId\r\n              ? {\r\n                  ...team,\r\n                  users: [\r\n                    ...team.users.filter(\r\n                      (user) => user.id !== action.payload.userId,\r\n                    ),\r\n                  ],\r\n                }\r\n              : team,\r\n          ),\r\n        ],\r\n      };\r\n    case types.REMOVE_USER_FAILURE:\r\n      return {\r\n        ...state,\r\n        editing: false,\r\n        error: action.payload.error,\r\n      };\r\n    case types.LEAVE_TEAM_SUCCESS:\r\n      return {\r\n        ...state,\r\n        deleting: false,\r\n        data: [\r\n          ...state.data.filter((item) => item._id !== action.payload.teamId),\r\n        ],\r\n      };\r\n    case types.PROMOTE_USER_STARTED:\r\n      return {\r\n        ...state,\r\n        editing: true,\r\n      };\r\n    case types.PROMOTE_USER_SUCCESS:\r\n      return {\r\n        ...state,\r\n        editing: false,\r\n        error: false,\r\n        data: [\r\n          ...state.data.map((team) =>\r\n            team._id === action.payload.teamId\r\n              ? {\r\n                  ...team,\r\n                  creators: [...team.creators, { ...action.payload.user }],\r\n                }\r\n              : team,\r\n          ),\r\n        ],\r\n      };\r\n    case types.PROMOTE_USER_FAILURE:\r\n      return {\r\n        ...state,\r\n        editing: false,\r\n        error: action.payload.error,\r\n      };\r\n    case types.DEGRADE_USER_STARTED:\r\n      return {\r\n        ...state,\r\n        editing: true,\r\n      };\r\n    case types.DEGRADE_USER_SUCCESS:\r\n      return {\r\n        ...state,\r\n        editing: false,\r\n        error: false,\r\n        data: [\r\n          ...state.data.map((team) =>\r\n            team._id === action.payload.teamId\r\n              ? {\r\n                  ...team,\r\n                  creators: [\r\n                    ...team.creators.filter(\r\n                      (user) => user.id !== action.payload.userId,\r\n                    ),\r\n                  ],\r\n                }\r\n              : team,\r\n          ),\r\n        ],\r\n      };\r\n    case types.DEGRADE_USER_FAILURE:\r\n      return {\r\n        ...state,\r\n        editing: false,\r\n        error: action.payload.error,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default teamsReducer;\r\n","import { combineReducers } from 'redux';\r\nimport userReducer from './userReducer';\r\nimport notesReducer from './notesReducer';\r\nimport teamsReducer from './teamsReducer';\r\n\r\nconst rootReducer = combineReducers({\r\n  user: userReducer,\r\n  notes: notesReducer,\r\n  teams: teamsReducer,\r\n});\r\n\r\nexport default rootReducer;\r\n","import {createStore, applyMiddleware, compose} from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from '../reducers/rootReducer';\r\n\r\n// eslint-disable-next-line no-underscore-dangle\r\nconst devtools = window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__();\r\n\r\nconst store = createStore(rootReducer,compose(applyMiddleware(thunk),devtools))\r\n\r\nexport default store;","import { USER_AUTH, USER_LOGOUT } from './actionTypes';\r\n\r\nexport const authUser = (data) => {\r\n  return {\r\n    type: USER_AUTH,\r\n    payload: {\r\n      ...data,\r\n    }\r\n  };\r\n};\r\n\r\nexport const userLogout = () => {\r\n  return {\r\n    type: USER_LOGOUT,\r\n  };\r\n};\r\n","/* eslint-disable jsx-a11y/label-has-associated-control */\r\nimport React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport axios from 'axios';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport styles from '../styles/Link.module.scss';\r\nimport { authUser } from '../redux/actions/authUser';\r\n\r\nconst SignUpView = ({ setAuth }) => {\r\n  const history = useHistory();\r\n  const [nickname, setNickname] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [error, setError] = useState('');\r\n  const handleChange = (e) => {\r\n    if (e.target.id === 'nickname') setNickname(e.target.value);\r\n    if (e.target.id === 'email') setEmail(e.target.value);\r\n    if (e.target.id === 'password') setPassword(e.target.value);\r\n  };\r\n  const handleAuthenticate = (e) => {\r\n    e.preventDefault();\r\n    axios\r\n      .post('/auth/signup', {\r\n        nickname,\r\n        email,\r\n        password,\r\n      })\r\n      .then((res) => {\r\n        if (res.status === 201) {\r\n          setAuth(res.data);\r\n          history.push('/');\r\n        } else {\r\n          setError(res.data);\r\n        }\r\n      })\r\n      .catch(({response}) => setError(response.data.message));\r\n  };\r\n  const useStyles = makeStyles((theme) => ({\r\n    paper: {\r\n      marginTop: theme.spacing(8),\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n    },\r\n    avatar: {\r\n      margin: theme.spacing(1),\r\n      backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n      width: '100%', // Fix IE 11 issue.\r\n      marginTop: theme.spacing(1),\r\n    },\r\n    submit: {\r\n      margin: theme.spacing(3, 0, 2),\r\n    },\r\n    link: {\r\n      color: theme.palette.main,\r\n    },\r\n  }));\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign up\r\n        </Typography>\r\n        <form\r\n          className={classes.form}\r\n          onSubmit={handleAuthenticate}\r\n          method=\"post\"\r\n        >\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            error={error}\r\n            onChange={handleChange}\r\n            name=\"nickname\"\r\n            type=\"text\"\r\n            id=\"nickname\"\r\n            label=\"Nickname\"\r\n            autoFocus\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            error={error}\r\n            onChange={handleChange}\r\n            name=\"email\"\r\n            type=\"email\"\r\n            id=\"email\"\r\n            label=\"E-mail\"\r\n            autoFocus\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            name=\"password\"\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            id=\"password\"\r\n            error={error}\r\n            onChange={handleChange}\r\n          />\r\n          {error && (\r\n            <Typography component=\"p\" variant=\"subtitle1\" color=\"secondary\">\r\n              {error}\r\n            </Typography>\r\n          )}\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n          >\r\n            Sign Up\r\n          </Button>\r\n          <Grid container justify=\"center\">\r\n            <Grid item>\r\n              <Link to=\"/signin\" className={styles.link}>\r\n                Do you have an account? Sign In\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nSignUpView.propTypes = {\r\n  setAuth: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  setAuth : data => dispatch(authUser(data)),\r\n});\r\n\r\nexport default connect(null, mapDispatchToProps)(SignUpView);\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\nimport axios from 'axios';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport styles from '../styles/Link.module.scss';\r\nimport {authUser} from '../redux/actions/authUser';\r\n\r\nconst SignInView = ({setAuth}) => {\r\n  const history = useHistory();\r\n  const [nickname, setNickname] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [error, setError] = useState('');\r\n  const handleChange = (e) => {\r\n    if (e.target.id === 'nickname') setNickname(e.target.value);\r\n    if (e.target.id === 'password') setPassword(e.target.value);\r\n  };\r\n  const handleAuthenticate = (e) => {\r\n    e.preventDefault();\r\n    axios\r\n      .post('/auth/signin', {\r\n        nickname,\r\n        password,\r\n      }).then(res => {\r\n        if(res.status === 200){\r\n          setAuth(res.data);\r\n          history.push('/')\r\n        }else{\r\n          setError(res.data)\r\n        }\r\n      })\r\n      .catch(({response}) => setError(response.data.message));\r\n  };\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    paper: {\r\n      marginTop: theme.spacing(8),\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n    },\r\n    avatar: {\r\n      margin: theme.spacing(1),\r\n      backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n      width: '100%',\r\n      marginTop: theme.spacing(1),\r\n    },\r\n    submit: {\r\n      margin: theme.spacing(3, 0, 2),\r\n    },\r\n    link: {\r\n      color: theme.palette.main,\r\n    },\r\n  }));\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign in\r\n        </Typography>\r\n        <form\r\n          className={classes.form}\r\n          onSubmit={handleAuthenticate}\r\n          method=\"post\"\r\n        >\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            error={error}\r\n            onChange={handleChange}\r\n            name=\"nickname\"\r\n            type=\"text\"\r\n            id=\"nickname\"\r\n            label=\"Nickname\"\r\n            autoFocus\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            name=\"password\"\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            id=\"password\"\r\n            error={error}\r\n            onChange={handleChange}\r\n          />\r\n          {error && <Typography component=\"p\" variant=\"subtitle1\" color=\"secondary\" >\r\n            {error}\r\n          </Typography>}\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n          >\r\n            Sign In\r\n          </Button>\r\n          <Grid container>\r\n            <Grid item xs>\r\n              <Link to=\"/pass\" className={styles.link}>\r\n                Forgot password?\r\n              </Link>\r\n            </Grid>\r\n            <Grid item>\r\n              <Link to=\"/signup\" className={styles.link}>\r\n                Don&apos;t have an account? Sign Up\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nSignInView.propTypes = {\r\n  setAuth: PropTypes.func.isRequired,\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  setAuth : data => dispatch(authUser(data)),\r\n})\r\n\r\nexport default connect(null, mapDispatchToProps)(SignInView);\r\n","import axios from 'axios';\r\nimport {\r\n  DELETE_NOTE_STARTED,\r\n  DELETE_NOTE_SUCCESS,\r\n  DELETE_NOTE_FAILURE,\r\n} from './actionTypes';\r\n\r\nconst deleteNoteStarted = () => {\r\n  return {\r\n    type: DELETE_NOTE_STARTED,\r\n  };\r\n};\r\n\r\nconst deleteNoteSuccess = (data) => {\r\n  return {\r\n    type: DELETE_NOTE_SUCCESS,\r\n    payload: { ...data },\r\n  };\r\n};\r\n\r\nconst deleteNoteFailure = (error) => {\r\n  return {\r\n    type: DELETE_NOTE_FAILURE,\r\n    payload: error,\r\n  };\r\n};\r\n\r\nexport const deleteNote = (input) => {\r\n  return (dispatch) => {\r\n    dispatch(deleteNoteStarted());\r\n    axios\r\n      .delete('/notes/', { data: input })\r\n      .then(() => dispatch(deleteNoteSuccess(input)))\r\n      .catch((err) => dispatch(deleteNoteFailure(err)));\r\n  };\r\n};\r\n","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nconst DialogComponent = ({children, open, disagreeFnc, agreeFnc}) => {\r\n    return(\r\n        <Dialog\r\n        open={open}\r\n        onClose={disagreeFnc}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">Are you sure ?</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-description\">\r\n           {children}\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={disagreeFnc} color=\"primary\">\r\n            Nope\r\n          </Button>\r\n          <Button onClick={agreeFnc} color=\"secondary\" autoFocus>\r\n            Yes\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    )\r\n};\r\n\r\nexport default DialogComponent;","import React, { useContext, useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CardWrapper from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport { Context } from '../context/index';\r\nimport styles from '../styles/Link.module.scss';\r\nimport { deleteNote } from '../redux/actions/deleteNote';\r\nimport DeleteDialog from './Dialog';\r\n\r\nconst NoteCard = ({title,coverImg,author,content,teamName,teamColor,idLink,admin = false,creator=false,deleteOne,open,editing,user}) => {\r\n\r\n  const [edit, setEdit] = useState(false);\r\n  const [dialog,setDialog] = useState(false);\r\n\r\n  useEffect(()=>{\r\n    if(user.data.nickname === author && creator) setEdit(true)\r\n  },[user])\r\n  const useStyles = makeStyles(() => ({\r\n    root: {\r\n      maxWidth: 345,\r\n      minWidth: 345,\r\n    },\r\n    media: {\r\n      height: 0,\r\n      paddingTop: '56.25%', // 16:9\r\n    },\r\n    avatar: {\r\n      backgroundColor: teamColor,\r\n    },\r\n  }));\r\n  const classes = useStyles();\r\n\r\n  const currentDataToEdit = useContext(Context);\r\n\r\n  const handleDeletion = () => {\r\n    deleteOne({ id: idLink, teamName });\r\n    setDialog(false)\r\n  };\r\n\r\n  const handleEdition = () => {\r\n    currentDataToEdit.data = { id: idLink, title, coverImg, content };\r\n    open(true);\r\n  };\r\n\r\n  return (\r\n    <CardWrapper variant=\"outlined\" className={classes.root}>\r\n      <CardHeader\r\n        avatar={\r\n          <Avatar aria-label=\"recipe\" className={classes.avatar}>\r\n            {teamName[0].toUpperCase()}\r\n          </Avatar>\r\n        }\r\n        title={author}\r\n        subheader=\"September 14, 2016\"\r\n      />\r\n      <CardMedia className={classes.media} image={coverImg} title={teamName} />\r\n      <CardContent>\r\n        <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n          {title}\r\n        </Typography>\r\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\" noWrap>\r\n          {content}\r\n        </Typography>\r\n      </CardContent>\r\n      <CardActions>\r\n        <Link className={styles.link} to={`/note/${idLink}`}>\r\n          <Button size=\"large\" color=\"primary\">\r\n            Learn More\r\n          </Button>\r\n        </Link>\r\n        {(admin || edit )&& (\r\n          <>\r\n            <Button\r\n              onClick={handleEdition}\r\n              size=\"large\"\r\n              color=\"primary\"\r\n              disabled={editing}\r\n            >\r\n              Edit\r\n            </Button>\r\n            <Button onClick={()=> setDialog(true)} size=\"large\" color=\"secondary\">\r\n              Delete\r\n            </Button>{' '}\r\n          </>\r\n        )}\r\n        <DeleteDialog open={dialog} disagreeFnc={()=>setDialog(false)} agreeFnc={handleDeletion}>Are you sure you want to <b>DELETE</b> this note ?</DeleteDialog>\r\n      </CardActions>\r\n    </CardWrapper>\r\n  );\r\n};\r\n\r\nNoteCard.propTypes = {\r\n  title: PropTypes.string.isRequired,\r\n  coverImg: PropTypes.string.isRequired,\r\n  author: PropTypes.string.isRequired,\r\n  content: PropTypes.string.isRequired,\r\n  teamName: PropTypes.string.isRequired,\r\n  teamColor: PropTypes.string.isRequired,\r\n  idLink: PropTypes.string.isRequired,\r\n  admin: PropTypes.string.isRequired,\r\n};\r\n\r\nconst mapStateToProps = ({user}) => ({user});\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    deleteOne: (data) => dispatch(deleteNote(data)),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(NoteCard);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport { authUser, userLogout } from '../redux/actions/authUser';\r\nimport styles from '../styles/Header.module.scss';\r\n\r\nconst Header = ({ setAuth, logout }) => {\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const open = Boolean(anchorEl);\r\n  const handleMenu = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n  const handleLogout = () => {\r\n    setAnchorEl(null);\r\n    logout();\r\n  };\r\n\r\n  return (\r\n    <div className={styles.wrapper}>\r\n      <Typography variant=\"h4\" component=\"h2\">\r\n        Teamingo\r\n      </Typography>\r\n      <ul className={styles.navigation}>\r\n        <Link className={styles.link} to=\"/\">\r\n          Home\r\n        </Link>\r\n        <Link className={styles.link} to=\"/teams\">\r\n          Teams\r\n        </Link>\r\n        <Link className={styles.link} to=\"/subscription\">\r\n          Subscripton\r\n        </Link>\r\n      </ul>\r\n      <div>\r\n        <IconButton\r\n          className={styles.accountIcon}\r\n          aria-label=\"account of current user\"\r\n          aria-controls=\"menu-appbar\"\r\n          aria-haspopup=\"true\"\r\n          onClick={handleMenu}\r\n          color=\"primary\"\r\n        >\r\n          <AccountCircle />\r\n        </IconButton>\r\n        <Menu\r\n          id=\"menu-appbar\"\r\n          anchorEl={anchorEl}\r\n          anchorOrigin={{\r\n            vertical: 'top',\r\n            horizontal: 'right',\r\n          }}\r\n          keepMounted\r\n          transformOrigin={{\r\n            vertical: 'top',\r\n            horizontal: 'right',\r\n          }}\r\n          open={open}\r\n          onClose={handleClose}\r\n        >\r\n          <Link to=\"/profile\" className={styles.link} >\r\n            <MenuItem  className={styles.link} onClick={handleClose}>\r\n              Profile\r\n            </MenuItem>\r\n          </Link>\r\n          <Link to=\"/profile/teams\" className={styles.link}>\r\n            <MenuItem>Your Teams</MenuItem>\r\n          </Link>\r\n          <MenuItem className={styles.link} onClick={handleLogout}>\r\n            Logout\r\n          </MenuItem>\r\n        </Menu>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nHeader.propTypes = {\r\n  setAuth: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  setAuth: (isAuth) => dispatch(authUser(isAuth)),\r\n  logout: () => dispatch(userLogout()),\r\n});\r\n\r\nexport default connect(null, mapDispatchToProps)(Header);\r\n","import axios from 'axios';\r\nimport {REFRESH_DATA_STARTED, REFRESH_DATA_SUCCESS, REFRESH_DATA_FAILURE} from './actionTypes'\r\n\r\nconst refreshDataStarted = () => ({\r\n    type: REFRESH_DATA_STARTED,\r\n  });\r\n  \r\n  const refreshDataSuccess = (data) => ({\r\n    type: REFRESH_DATA_SUCCESS,\r\n    payload: {\r\n        ...data\r\n    }\r\n  });\r\n  \r\n  const refreshDataFailure = (error) => ({\r\n    type: REFRESH_DATA_FAILURE,\r\n    payload: {\r\n      error,\r\n    },\r\n  });\r\n\r\nexport const refreshData = id => {\r\n    return dispatch => {\r\n        dispatch(refreshDataStarted())\r\n        axios.get(`/user/?id=${id}`)\r\n        .then(({data}) => dispatch(refreshDataSuccess(data)))\r\n        .catch(err => dispatch(refreshDataFailure(err)))\r\n    }\r\n}","/* eslint-disable react/prefer-stateless-function */\r\nimport React, { useEffect } from 'react';\r\nimport axios from 'axios'\r\nimport { compose } from 'redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Header from '../components/Header';\r\nimport { refreshData } from '../redux/actions/refreshData';\r\n\r\nconst withProtection = (WrappedComponent) => ({ user, match, updateUsersData }) => {\r\n\r\n  const { authenticated } = user;\r\n\r\n  useEffect(()=>{\r\n    if(authenticated) updateUsersData(user.data.id)\r\n  },[match])\r\n  \r\n  return (\r\n    <>\r\n      {!authenticated && <Redirect to=\"/signin\" />}\r\n      <Header />\r\n      <WrappedComponent match={match} />\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({ user }) => ({ user });\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  updateUsersData: id => dispatch(refreshData(id))\r\n}) \r\n\r\nconst composedHOC = compose(connect(mapStateToProps, mapDispatchToProps), withProtection);\r\nexport default composedHOC;\r\n","import React, { useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport NoteCard from '../components/NoteCard';\r\nimport styles from '../styles/MainView.module.scss';\r\nimport withProtection from '../hoc/withProtection';\r\nimport { getNotes } from '../redux/actions/getNotes';\r\n\r\nconst MainView = ({ user, notes, setData }) => {\r\n  useEffect(() => {\r\n    if (user.notesId.length) setData(user.notesId);\r\n  }, []);\r\n  const { data } = notes;\r\n\r\n  return (\r\n    <div className={styles.grid}>\r\n      {!user.notesId.length && (\r\n        <h1>\r\n          There is any notes{' '}\r\n          <span role=\"img\" aria-label=\"upset-emoji\">\r\n            🙁\r\n          </span>\r\n        </h1>\r\n      )}\r\n      {notes.loading ? (\r\n        <CircularProgress className={styles.loader} />\r\n      ) : (\r\n        data.map((item) => (\r\n          <NoteCard\r\n            key={item.title}\r\n            title={item.title}\r\n            author={item.author}\r\n            coverImg={item.coverImg}\r\n            content={item.content}\r\n            teamName={item.teamName}\r\n            teamColor={item.teamColor}\r\n            idLink={item._id}\r\n          />\r\n        ))\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nMainView.propTypes = {\r\n  setData: PropTypes.func.isRequired,\r\n  notes: PropTypes.objectOf(\r\n    PropTypes.array,\r\n    PropTypes.boolean,\r\n    PropTypes.string,\r\n  ).isRequired,\r\n  user: PropTypes.objectOf(PropTypes.array, PropTypes.boolean).isRequired,\r\n};\r\n\r\nconst mapStateToProps = ({ user, notes }) => ({ user, notes });\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    setData: (notesId) => {\r\n      dispatch(getNotes(notesId));\r\n    },\r\n  };\r\n};\r\n\r\nexport default withProtection(\r\n  connect(mapStateToProps, mapDispatchToProps)(MainView),\r\n);\r\n","import axios from 'axios';\r\nimport qs from 'qs';\r\nimport {\r\n  GET_NOTES_STARTED,\r\n  GET_NOTES_SUCCESS,\r\n  GET_NOTES_FAILURE,\r\n} from './actionTypes';\r\n\r\nconst getNotesStarted = () => ({\r\n  type: GET_NOTES_STARTED,\r\n});\r\n\r\nconst getNotesSuccess = (data) => ({\r\n  type: GET_NOTES_SUCCESS,\r\n  payload: {\r\n    notes: data,\r\n  },\r\n});\r\n\r\nconst getNotesFailure = (error) => ({\r\n  type: GET_NOTES_FAILURE,\r\n  payload: {\r\n    error,\r\n  },\r\n});\r\n\r\nexport const getNotes = (notesId) => {\r\n  return (dispatch) => {\r\n    dispatch(getNotesStarted());\r\n\r\n    axios\r\n      .get(`/notes/`, {\r\n        params: {\r\n          ids: notesId,\r\n        },\r\n        paramsSerializer: (params) => {\r\n          return qs.stringify(params);\r\n        },\r\n      })\r\n      .then((res) => dispatch(getNotesSuccess(res.data)))\r\n      .catch((err) => dispatch(getNotesFailure(err.message)));\r\n  };\r\n};\r\n","import axios from 'axios'\r\nimport {LEAVE_TEAM_STARTED, LEAVE_TEAM_SUCCESS, LEAVE_TEAM_FAILURE} from './actionTypes';\r\n\r\nconst leaveTeamStarted = () => ({\r\n    type: LEAVE_TEAM_STARTED\r\n});\r\n\r\nconst leaveTeamSuccess = data => ({\r\n    type: LEAVE_TEAM_SUCCESS,\r\n    payload: {\r\n        ...data\r\n    }\r\n});\r\n\r\nconst leaveTeamFailure = error => ({\r\n    type: LEAVE_TEAM_FAILURE,\r\n    payload: {\r\n        error\r\n    }\r\n})\r\n\r\n\r\nexport const leaveTeam = input => {\r\n    return dispatch => {\r\n        dispatch(leaveTeamStarted());\r\n        axios.delete('/teams/user', {\r\n            data: input\r\n        })\r\n        .then(({data}) => dispatch(leaveTeamSuccess(data)))\r\n        .catch(err => dispatch(leaveTeamFailure(err)))\r\n    }\r\n}","import axios from 'axios';\r\nimport {\r\n  DELETE_TEAM_STARTED,\r\n  DELETE_TEAM_SUCCESS,\r\n  DELETE_TEAM_FAILURE,\r\n} from './actionTypes';\r\n\r\nconst deleteTeamStarted = () => {\r\n  return {\r\n    type: DELETE_TEAM_STARTED,\r\n  };\r\n};\r\n\r\nconst deleteTeamSuccess = (data) => {\r\n  return {\r\n    type: DELETE_TEAM_SUCCESS,\r\n    payload: { ...data },\r\n  };\r\n};\r\n\r\nconst deleteTeamFailure = (error) => {\r\n  return {\r\n    type: DELETE_TEAM_FAILURE,\r\n    payload: error,\r\n  };\r\n};\r\n\r\nexport const deleteTeam = (input) => {\r\n  return (dispatch) => {\r\n    dispatch(deleteTeamStarted());\r\n    axios\r\n      .delete('/teams/', { data: input })\r\n      .then(({data}) => dispatch(deleteTeamSuccess(data)))\r\n      .catch((err) => dispatch(deleteTeamFailure(err)));\r\n  };\r\n};\r\n","import React, { useState } from 'react';\r\nimport {connect} from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport SupervisorAccountIcon from '@material-ui/icons/SupervisorAccount';\r\nimport NoteIcon from '@material-ui/icons/Note';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport styles from '../styles/Link.module.scss';\r\nimport {leaveTeam} from '../redux/actions/leaveTeam';\r\nimport {deleteTeam} from '../redux/actions/deleteTeam';\r\nimport AlertDialog from './Dialog';\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    minWidth: 250,\r\n    maxWidth: 250,\r\n  },\r\n  media: {\r\n    height: 140,\r\n  },\r\n});\r\n\r\nconst TeamCard = ({ admin, teamName, users, notes, idLink, user, leaveFunction,deleteFunction}) => {\r\n  \r\n  const classes = useStyles();\r\n  const isAdmin = admin.nickname === user.data.nickname;\r\n  const [dialog,setDialog] = useState(false);\r\n\r\n  const handleLeave = () => {\r\n    setDialog(false);\r\n    const data = {id: user.data.id, teamId: idLink}\r\n    if(isAdmin)deleteFunction(data)\r\n    else leaveFunction(data)\r\n  }\r\n\r\n  return (\r\n    <Card className={classes.root}>\r\n      <CardContent>\r\n        <Typography variant=\"h4\" component=\"h4\">\r\n          {teamName}\r\n        </Typography>\r\n        <Typography variant=\"subtitle1\" color=\"textSecondary\">\r\n          {admin.nickname}\r\n        </Typography>\r\n      </CardContent>\r\n      <List disablePadding=\"true\">\r\n        <ListItem>\r\n          <ListItemIcon>\r\n            <SupervisorAccountIcon color=\"primary\" fontSize=\"large\" />\r\n          </ListItemIcon>\r\n          <ListItemText primary={`Members: ${users.length}`} />\r\n        </ListItem>\r\n        <ListItem>\r\n          <ListItemIcon>\r\n            <NoteIcon color=\"primary\" fontSize=\"large\" />\r\n          </ListItemIcon>\r\n          <ListItemText primary={`Notes: ${notes.length}`} />\r\n        </ListItem>\r\n      </List>\r\n      <CardActions>\r\n        <Link className={styles.link} to={`team/${idLink}`}>\r\n          <Button size=\"large\" color=\"primary\">\r\n            See more\r\n          </Button>\r\n        </Link>\r\n          <Button size=\"large\" color=\"secondary\" onClick={()=>setDialog(true)} >\r\n            {isAdmin ? \"Delete\" : \"Leave\"}\r\n          </Button>\r\n        <AlertDialog open={isAdmin && dialog} disagreeFnc={()=>setDialog(false)} agreeFnc={handleLeave}>\r\n          Are you sure you want to <b>DELETE</b> {teamName} team ? <br/>All notes will be also <b>DELETED</b> !\r\n        </AlertDialog>\r\n        <AlertDialog open={!isAdmin && dialog} disagreeFnc={()=>setDialog(false)} agreeFnc={handleLeave}>\r\n          Are you sure you want to <b>LEAVE</b> {teamName} team ? <br/> You will <b>not</b> have access to any notes !\r\n        </AlertDialog>\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n};\r\n\r\nTeamCard.propTypes = {\r\n  admin: PropTypes.objectOf().isRequired,\r\n  teamName: PropTypes.string.isRequired,\r\n  idLink: PropTypes.string.isRequired,\r\n  users: PropTypes.arrayOf().isRequired,\r\n  notes: PropTypes.objectOf().isRequired,\r\n};\r\n\r\nconst mapStateToProps = ({user}) => ({user});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    leaveFunction: data => dispatch(leaveTeam(data)),\r\n    deleteFunction: data => dispatch(deleteTeam(data))\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TeamCard);\r\n","import axios from 'axios';\r\nimport qs from 'qs';\r\nimport {\r\n  GET_TEAMS_STARTED,\r\n  GET_TEAMS_SUCCESS,\r\n  GET_TEAMS_FAILURE,\r\n} from './actionTypes';\r\n\r\nconst getTeamsStarted = () => ({\r\n  type: GET_TEAMS_STARTED,\r\n});\r\n\r\nconst getTeamsSuccess = (data) => ({\r\n  type: GET_TEAMS_SUCCESS,\r\n  payload: {\r\n    teams: data,\r\n  },\r\n});\r\n\r\nconst getTeamsFailure = (error) => ({\r\n  type: GET_TEAMS_FAILURE,\r\n  payload: {\r\n    error,\r\n  },\r\n});\r\n\r\nexport const getTeams = (teamsId) => {\r\n  return (dispatch) => {\r\n    dispatch(getTeamsStarted());\r\n\r\n    axios\r\n      .get(`/teams/`, {\r\n        params: {\r\n          ids: teamsId,\r\n        },\r\n        paramsSerializer: (params) => {\r\n          return qs.stringify(params);\r\n        },\r\n      })\r\n      .then((res) => dispatch(getTeamsSuccess(res.data)))\r\n      .catch((err) => dispatch(getTeamsFailure(err.message)));\r\n  };\r\n};\r\n","import React, { useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport styles from '../styles/TeamsView.module.scss';\r\nimport TeamCard from '../components/TeamCard';\r\nimport withProtection from '../hoc/withProtection';\r\nimport { getTeams } from '../redux/actions/getTeams';\r\n\r\nconst TeamsView = ({ user, teams, setTeams }) => {\r\n  useEffect(() => {\r\n    if (user.teamsId.length) setTeams(user.teamsId);\r\n  }, []);\r\n\r\n\r\n  return (\r\n    <div className={styles.grid}>\r\n      {!user.teamsId.length && (\r\n        <h1>\r\n          There is any teams{' '}\r\n          <span role=\"img\" aria-label=\"upset=emoji\">\r\n            🙁\r\n          </span>\r\n        </h1>\r\n      )}\r\n      {teams.loading ? (\r\n        <CircularProgress className={styles.loader} />\r\n      ) : (\r\n        teams.data.map((data) => (\r\n          <TeamCard\r\n            key={data.name}\r\n            teamName={data.name}\r\n            admin={data.admin}\r\n            users={data.users}\r\n            notes={data.notes}\r\n            idLink={data._id}\r\n          />\r\n        ))\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nTeamsView.propTypes = {\r\n  teams: PropTypes.objectOf().isRequired,\r\n  setTeams: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = ({ teams, user }) => ({ teams, user });\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    setTeams: (teamsId) => dispatch(getTeams(teamsId)),\r\n  };\r\n};\r\n\r\nexport default withProtection(\r\n  connect(mapStateToProps, mapDispatchToProps)(TeamsView),\r\n);\r\n","import React, { useEffect, useState } from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {useHistory} from 'react-router-dom';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport styles from '../styles/NoteDetailsView.module.scss'\r\nimport withProtection from '../hoc/withProtection';\r\n\r\nconst NoteDetailsView = ({data,match}) => {\r\n\r\n    const [state,setState] = useState({});\r\n\r\n    const history = useHistory()\r\n    useEffect(()=>{\r\n        const currNote = data.find( x => x._id === match.params.id)\r\n        if(currNote) setState(currNote);\r\n        else history.push(\"/teams\");\r\n    },[data, history, match.params.id])\r\n    return(\r\n        <>\r\n            <div className={styles.heading} >\r\n                <Typography variant=\"h2\" gutterBottom>\r\n                    {state.title}\r\n                </Typography>\r\n                <Typography variant=\"h6\" color=\"textSecondary\" component=\"p\">\r\n                    {state.author}\r\n                </Typography> \r\n            </div>\r\n            <Typography className={styles.content} variant=\"h6\">\r\n            {state.content}\r\n            </Typography>\r\n        </>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = ({notes: {data} }) => ({data});\r\n\r\nexport default withProtection(connect(mapStateToProps)(NoteDetailsView));","import axios from 'axios';\r\nimport {\r\n  CREATE_NOTE_STARTED,\r\n  CREATE_NOTE_SUCCESS,\r\n  CREATE_NOTE_FAILURE,\r\n  CREATE_NOTE_SUCCESS_UPDATE_TEAM,\r\n} from './actionTypes';\r\n\r\nconst createNoteStarted = () => ({\r\n  type: CREATE_NOTE_STARTED,\r\n});\r\nconst createNoteSuccess = (data) => ({\r\n  type: CREATE_NOTE_SUCCESS,\r\n  payload: {\r\n    ...data,\r\n  },\r\n});\r\nconst createNoteSuccessUpdateTeam = (data) => ({\r\n  type: CREATE_NOTE_SUCCESS_UPDATE_TEAM,\r\n  payload: {\r\n    ...data,\r\n  },\r\n});\r\nconst createNoteFailure = (error) => ({\r\n  type: CREATE_NOTE_FAILURE,\r\n  payload: {\r\n    error,\r\n  },\r\n});\r\n\r\nexport const createNote = (input) => {\r\n  return (dispatch, getState) => {\r\n    dispatch(createNoteStarted());\r\n    axios\r\n      .post('/notes/', {\r\n        ...input,\r\n      })\r\n      .then(({ data }) => {\r\n        dispatch(createNoteSuccess(data));\r\n        const teamIndex = getState()\r\n          .teams.data.map((item, index) =>\r\n            item.name === data.teamName ? index : null,\r\n          )\r\n          .filter((number) => number !== null)[0];\r\n        dispatch(\r\n          createNoteSuccessUpdateTeam({ index: teamIndex, id: data._id }),\r\n        );\r\n      })\r\n      .catch((err) => dispatch(createNoteFailure(err)));\r\n  };\r\n};\r\n","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Button from '@material-ui/core/Button';\r\nimport { createNote } from '../redux/actions/createNote';\r\nimport styles from '../styles/NoteActionForm.module.scss';\r\n\r\nconst CreateNote = ({ teamData, open, sentCreation }) => {\r\n  const [note, setNote] = useState({\r\n    author: '',\r\n    teamName: '',\r\n    teamColor: '',\r\n    title: '',\r\n    coverImg: '',\r\n    content: '',\r\n  });\r\n\r\n  const handleInputChange = (e) => {\r\n    setNote({ ...note, ...teamData, [e.target.id]: e.target.value });\r\n  };\r\n\r\n  const handleCreate = (e) => {\r\n    e.preventDefault();\r\n    open(false);\r\n    sentCreation(note);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <CloseIcon\r\n        fontSize=\"large\"\r\n        onClick={() => open(false)}\r\n        className={styles.icon}\r\n      />\r\n      <form className={styles.form} onSubmit={handleCreate} autoComplete=\"off\">\r\n        <TextField\r\n          onChange={handleInputChange}\r\n          className={styles.input}\r\n          id=\"title\"\r\n          label=\"Title\"\r\n          variant=\"outlined\"\r\n        />\r\n        <TextField\r\n          onChange={handleInputChange}\r\n          className={styles.input}\r\n          id=\"coverImg\"\r\n          label=\"Image\"\r\n          variant=\"outlined\"\r\n        />\r\n        <TextField\r\n          id=\"content\"\r\n          label=\"Content\"\r\n          multiline\r\n          onChange={handleInputChange}\r\n          rows={6}\r\n          variant=\"outlined\"\r\n          fullWidth\r\n        />\r\n        <Button\r\n          className={styles.button}\r\n          type=\"submit\"\r\n          variant=\"contained\"\r\n          size=\"large\"\r\n          color=\"primary\"\r\n        >\r\n          Add\r\n        </Button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    sentCreation: (data) => dispatch(createNote(data)),\r\n  };\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(CreateNote);\r\n","import axios from 'axios';\r\nimport {\r\n  EDIT_NOTE_STARTED,\r\n  EDIT_NOTE_SUCCESS,\r\n  EDIT_NOTE_FAILURE,\r\n} from './actionTypes';\r\n\r\nconst editNoteStarted = () => ({\r\n  type: EDIT_NOTE_STARTED,\r\n});\r\n\r\nconst editNoteSuccess = (data) => ({\r\n  type: EDIT_NOTE_SUCCESS,\r\n  payload: {\r\n    ...data,\r\n  },\r\n});\r\n\r\nconst editNoteFailure = (error) => ({\r\n  type: EDIT_NOTE_FAILURE,\r\n  payload: {\r\n    error,\r\n  },\r\n});\r\n\r\nexport const editNote = (input) => {\r\n  return (dispatch) => {\r\n    dispatch(editNoteStarted);\r\n    axios\r\n      .put('/notes/', {\r\n        ...input,\r\n      })\r\n      .then(({ data }) => {\r\n        console.log(data);\r\n        dispatch(editNoteSuccess(data));\r\n      })\r\n      .catch((err) => dispatch(editNoteFailure(err)));\r\n  };\r\n};\r\n","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Button from '@material-ui/core/Button';\r\nimport { editNote } from '../redux/actions/editNote';\r\nimport styles from '../styles/NoteActionForm.module.scss';\r\n\r\nconst EditNote = ({ data, open, updateData }) => {\r\n  const [note, setNote] = useState({ ...data });\r\n\r\n  const handleInputChange = (e) => {\r\n    setNote({ ...note, [e.target.id]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    open(false);\r\n    updateData(note);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <CloseIcon\r\n        fontSize=\"large\"\r\n        onClick={() => open(false)}\r\n        className={styles.icon}\r\n      />\r\n      <form className={styles.form} onSubmit={handleSubmit} autoComplete=\"off\">\r\n        <TextField\r\n          onChange={handleInputChange}\r\n          className={styles.input}\r\n          id=\"title\"\r\n          label=\"Title\"\r\n          variant=\"outlined\"\r\n          defaultValue={data.title}\r\n        />\r\n        <TextField\r\n          onChange={handleInputChange}\r\n          className={styles.input}\r\n          id=\"coverImg\"\r\n          label=\"Image\"\r\n          variant=\"outlined\"\r\n          defaultValue={data.coverImg}\r\n        />\r\n        <TextField\r\n          id=\"content\"\r\n          label=\"Content\"\r\n          multiline\r\n          onChange={handleInputChange}\r\n          rows={6}\r\n          variant=\"outlined\"\r\n          defaultValue={data.content}\r\n          fullWidth\r\n        />\r\n        <Button\r\n          className={styles.button}\r\n          type=\"submit\"\r\n          variant=\"contained\"\r\n          size=\"large\"\r\n          color=\"primary\"\r\n        >\r\n          Done\r\n        </Button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    updateData: (data) => dispatch(editNote(data)),\r\n  };\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(EditNote);\r\n","import React from 'react'\r\nimport Typography from '@material-ui/core/Typography';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport styles from '../styles/TeamDetailsView.module.scss';\r\n\r\nconst AddAction = ({text, emoji, onClick}) => {\r\n    return(\r\n        <div className={styles.action}>\r\n            <Typography gutterBottom variant=\"h5\">{text}{emoji && <span role=\"img\" aria-label=\"emoji\">{emoji}</span>}</Typography>\r\n            <Tooltip title=\"Add\" aria-label=\"add\" onClick={onClick}>\r\n                <Fab color=\"primary\">\r\n                    <AddIcon />\r\n                </Fab>\r\n            </Tooltip>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default AddAction;","import axios from 'axios'\r\nimport {REMOVE_USER_STARTED, REMOVE_USER_SUCCESS, REMOVE_USER_FAILURE} from './actionTypes';\r\n\r\nconst removeUserStarted = () => ({\r\n    type: REMOVE_USER_STARTED\r\n});\r\n\r\nconst removeUserSuccess = data => ({\r\n    type: REMOVE_USER_SUCCESS,\r\n    payload: {\r\n        ...data\r\n    }\r\n});\r\n\r\nconst removeUserFailure = error => ({\r\n    type: REMOVE_USER_FAILURE,\r\n    payload: {\r\n        error\r\n    }\r\n})\r\n\r\n\r\nexport const removeUser = input => {\r\n    return dispatch => {\r\n        dispatch(removeUserStarted());\r\n        axios.delete('/teams/user', {\r\n            data: input\r\n        })\r\n        .then(({data}) => dispatch(removeUserSuccess(data)))\r\n        .catch(err => dispatch(removeUserFailure(err)))\r\n    }\r\n}","import axios from 'axios';\r\nimport {PROMOTE_USER_STARTED, PROMOTE_USER_SUCCESS, PROMOTE_USER_FAILURE} from './actionTypes'\r\n\r\nconst promoteUserStarted = () => ({\r\n    type: PROMOTE_USER_STARTED,\r\n  });\r\n  \r\n  const promoteUserSuccess = (data) => ({\r\n    type: PROMOTE_USER_SUCCESS,\r\n    payload: {\r\n        ...data\r\n    }\r\n  });\r\n  \r\n  const promoteUserFailure = (error) => ({\r\n    type: PROMOTE_USER_FAILURE,\r\n    payload: {\r\n      error,\r\n    },\r\n  });\r\n\r\nexport const promoteUser = input => {\r\n    return dispatch => {\r\n        dispatch(promoteUserStarted())\r\n        axios.post('/user/role', {\r\n            ...input\r\n        })\r\n        .then(({data}) => dispatch(promoteUserSuccess(data)))\r\n        .catch(err => dispatch(promoteUserFailure(err)))\r\n    }\r\n}","import axios from 'axios';\r\nimport {DEGRADE_USER_STARTED, DEGRADE_USER_SUCCESS, DEGRADE_USER_FAILURE} from './actionTypes'\r\n\r\nconst degradeUserStarted = () => ({\r\n    type: DEGRADE_USER_STARTED,\r\n  });\r\n  \r\n  const degradeUserSuccess = (data) => ({\r\n    type: DEGRADE_USER_SUCCESS,\r\n    payload: {\r\n        ...data\r\n    }\r\n  });\r\n  \r\n  const degradeUserFailure = (error) => ({\r\n    type: DEGRADE_USER_FAILURE,\r\n    payload: {\r\n      error,\r\n    },\r\n  });\r\n\r\nexport const degradeUser = input => {\r\n    return dispatch => {\r\n        dispatch(degradeUserStarted())\r\n        axios.delete('/user/role', {\r\n            data:input\r\n        })\r\n        .then(({data}) => dispatch(degradeUserSuccess(data)))\r\n        .catch(err => dispatch(degradeUserFailure(err)))\r\n    }\r\n}","import React, { useState } from 'react'\r\nimport {connect} from 'react-redux';\r\nimport { Typography, Button } from '@material-ui/core'\r\nimport styles from '../styles/UserCard.module.scss'\r\nimport {removeUser} from '../redux/actions/removeUser'\r\nimport {promoteUser} from '../redux/actions/promoteUser'\r\nimport {degradeUser} from '../redux/actions/degradeUser'\r\nimport AlertDialog from './Dialog'\r\n\r\nconst UserCard = ({data,teamId,promoted,sendRemoval,makeCreator,makeMember}) => {\r\n    \r\n    const [dialog,setDialog] = useState(false);\r\n    const [remove,setRemove] = useState(false);\r\n    const user = {...data, teamId}\r\n    const content = promoted ? `Are you sure you want to degrade this user ?  \\n ${user.nickname} will not be able to create ant notes and edit them any more !` :\r\n    `Are you sure you want to promote this user ?  \\n ${user.nickname} will be able to create notes and edit them` \r\n    const handleRemoval = () => {\r\n        sendRemoval(user)\r\n    }\r\n\r\n    const handleAgreement = () => {\r\n        setDialog(false)\r\n        if(promoted) makeMember(user)\r\n        else makeCreator(user)\r\n    }\r\n\r\n\r\n    return(\r\n        <div className={styles.container} >\r\n            <Typography variant=\"h6\" >{user.nickname}</Typography>\r\n            <div className={styles.buttons} >\r\n                <Button color=\"primary\" size=\"small\" onClick={()=>setDialog(true)} >{promoted ? \"Degrade\" : \"Promote\"}</Button>\r\n                <Button color=\"secondary\" size=\"small\" onClick={() => {setDialog(true); setRemove(true)}} >Remove</Button>\r\n                <AlertDialog open={promoted && dialog && !remove} disagreeFnc={()=>setDialog(false)} agreeFnc={handleAgreement}>\r\n                    Are you sure you want to degrade this user ? <br/> <b>{user.nickname}</b> will not be able to create any notes and edit them any more !\r\n                </AlertDialog>\r\n                <AlertDialog open={!promoted && dialog && !remove} disagreeFnc={()=>setDialog(false)} agreeFnc={handleAgreement}>\r\n                    Are you sure you want to promote this user ? <br/> <b>{user.nickname}</b> will not able to create notes and edit them !\r\n                </AlertDialog>\r\n                <AlertDialog open={remove && dialog} disagreeFnc={()=>setDialog(false)} agreeFnc={handleRemoval}>\r\n                    Are you sure you want to remove <b>{user.nickname}</b> from this team ?\r\n                </AlertDialog>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    sendRemoval: data => dispatch(removeUser(data)),\r\n    makeCreator: data => dispatch(promoteUser(data)),\r\n    makeMember: data => dispatch(degradeUser(data))\r\n})\r\n\r\nexport default connect(null,mapDispatchToProps)(UserCard);","import React, { useState, useRef } from 'react';\r\nimport {connect} from 'react-redux';\r\nimport { TextField, Button, Typography } from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport styles from '../styles/ManageMembers.module.scss'\r\nimport UserCard from './UserCard';\r\nimport {inviteUser} from '../redux/actions/inviteUser';\r\n\r\n\r\nconst ManageMembers = ({users,team, teams:{error, editing}, open, sendInvitation}) =>{\r\n    \r\n    const [data, setData] = useState({nickname: '', ...team})\r\n    const form = useRef();\r\n\r\n    const handleChange = e => {\r\n        setData({...data, nickname: e.target.value});\r\n    }\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault();\r\n        form.current.reset();\r\n        sendInvitation(data);\r\n    }\r\n\r\n    console.log(error, editing)\r\n    return(\r\n\r\n        <div className={styles.container} >\r\n             <CloseIcon\r\n                fontSize=\"large\"\r\n                onClick={() => open(false)}\r\n                className={styles.icon}\r\n            />\r\n            <div className={styles.list}>\r\n                <h2 className={styles.list__header}>Members</h2>\r\n                {users.map(user =>  <UserCard data={user} promoted={team.creators.some(person => person.id === user.id)} teamId={team.teamId} />)}\r\n            </div>\r\n            <form className={styles.form} ref={form} onSubmit={handleSubmit}>\r\n                <Typography variant=\"h5\" gutterBottom> Invite User</Typography>\r\n                <TextField error={error} label=\"Nickname\" id=\"nickname\" variant=\"outlined\"  required onChange={handleChange} />\r\n                {error && <Typography component=\"p\" variant=\"subtitle1\" color=\"secondary\" >\r\n                    {error}\r\n                </Typography>}\r\n                <Button type=\"submit\" variant=\"contained\" color=\"primary\" size=\"large\">Add</Button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = ({teams}) => ({teams});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    sendInvitation: data => dispatch(inviteUser(data))\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ManageMembers);","import axios from 'axios';\r\nimport {INVITE_USER_STARTED, INVITE_USER_SUCCESS, INVITE_USER_FAILURE} from './actionTypes'\r\n\r\nconst inviteUserStarted = () => ({\r\n    type: INVITE_USER_STARTED,\r\n  });\r\n  \r\n  const inviteUserSuccess = () => ({\r\n    type: INVITE_USER_SUCCESS\r\n  });\r\n  \r\n  const inviteUserFailure = (error) => ({\r\n    type: INVITE_USER_FAILURE,\r\n    payload: {\r\n      error,\r\n    },\r\n  });\r\n\r\nexport const inviteUser = input => {\r\n    return dispatch => {\r\n        dispatch(inviteUserStarted())\r\n        axios.post('/user/invite', {\r\n            ...input\r\n        })\r\n        .then(() => dispatch(inviteUserSuccess()))\r\n        .catch(({response}) => dispatch(inviteUserFailure(response.data.message)))\r\n    }\r\n}","import React, { useEffect, useState, useContext } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport NoteIcon from '@material-ui/icons/Note';\r\nimport SupervisorAccountIcon from '@material-ui/icons/SupervisorAccount';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport { Context } from '../context/index';\r\nimport withProtection from '../hoc/withProtection';\r\nimport styles from '../styles/TeamDetailsView.module.scss';\r\nimport NoteCard from '../components/NoteCard';\r\nimport CreateNote from '../components/CreateNote';\r\nimport EditNote from '../components/EditNote';\r\nimport AddAction from '../components/AddAction';\r\nimport ManageMembers from '../components/ManageMembers';\r\n\r\nconst TeamDetailsView = ({ match, data: teams, notes, user }) => {\r\n  const [data, setData] = useState({\r\n    admin: { nickname: '', id: '' },\r\n    name: '',\r\n    color: '',\r\n    creators: [],\r\n    notes: [],\r\n    users: [],\r\n  });\r\n  const [isCreateNoteOpen, isCreateNoteOpenChange] = useState(false);\r\n  const [isEditNoteOpen, isEditNoteOpenChange] = useState(false);\r\n  const [isManageMembersOpen, isManageMembersOpenChange] = useState(false);\r\n  const [items, setItems] = useState([]);\r\n  const [admin, setAdmin] = useState(false);\r\n  const [creator, setCreator] = useState(false);\r\n  const editingNote = useContext(Context);\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    const team = teams.filter((item) => item._id === match.params.id)[0];\r\n    if (!team) history.push('/teams');\r\n    setData(team);\r\n    const filtredNotes = notes.data.filter((note) =>\r\n      team.notes.includes(note._id),\r\n    );\r\n    setItems(filtredNotes);\r\n    if (user.data.id === data.admin.id) setAdmin(true);\r\n    if (data.creators.some(person => person.id === user.data.id)) setCreator(true);\r\n  }, [teams, notes.data, match.params.id, user, data]);\r\n\r\n  const handleOpenCreateNote = () => {\r\n    isCreateNoteOpenChange(!isCreateNoteOpen);\r\n  };\r\n\r\n  const handleOpenManageMembers = () => {\r\n    isManageMembersOpenChange(!isManageMembersOpen);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <h1 className={styles.header}>{data.name}</h1>\r\n      <div className={styles.heading}>\r\n        <List className={styles.info}>\r\n          <ListItem>\r\n            <ListItemAvatar>\r\n              <Avatar>\r\n                <SupervisorAccountIcon color=\"primary\" />\r\n              </Avatar>\r\n            </ListItemAvatar>\r\n            <ListItemText primary=\"Users\" secondary={data.users.length} />\r\n          </ListItem>\r\n          <Divider variant=\"inset\" component=\"li\" />\r\n          <ListItem>\r\n            <ListItemAvatar>\r\n              <Avatar>\r\n                <NoteIcon color=\"primary\" />\r\n              </Avatar>\r\n            </ListItemAvatar>\r\n            <ListItemText primary=\"Notes\" secondary={data.notes.length} />\r\n          </ListItem>\r\n        </List>\r\n        \r\n          <div className={styles.actions__wrapper}>\r\n          {( admin || creator ) && (\r\n            <AddAction\r\n              text=\"Create note \"\r\n              emoji=\"✍🏻\"\r\n              onClick={handleOpenCreateNote}\r\n            /> )}\r\n            {admin && (\r\n            <AddAction \r\n              text=\"Manage Members \" \r\n              emoji=\"👨‍👨‍👧‍👦\" \r\n              onClick={handleOpenManageMembers}\r\n              />)}\r\n          </div>\r\n        \r\n      </div>\r\n      <div className={styles.notes}>\r\n        {items.length ? (\r\n          items.map((item) => (\r\n            <NoteCard\r\n              admin={admin}\r\n              creator = {creator}\r\n              key={item.title}\r\n              title={item.title}\r\n              author={item.author}\r\n              coverImg={item.coverImg}\r\n              content={item.content}\r\n              teamName={item.teamName}\r\n              teamColor={item.teamColor}\r\n              idLink={item._id}\r\n              open={isEditNoteOpenChange}\r\n              editing={isEditNoteOpen}\r\n            />\r\n          ))\r\n        ) : (\r\n          <h1>\r\n            There is any notes{' '}\r\n            <span role=\"img\" aria-label=\"upset-emoji\">\r\n              🙁\r\n            </span>\r\n          </h1>\r\n        )}\r\n      </div>\r\n      {isCreateNoteOpen && (\r\n        <CreateNote\r\n          open={isCreateNoteOpenChange}\r\n          teamData={{\r\n            author: user.data.nickname,\r\n            teamName: data.name,\r\n            teamColor: data.color,\r\n          }}\r\n        />\r\n      )}\r\n      {isEditNoteOpen && (\r\n        <EditNote open={isEditNoteOpenChange} data={editingNote.data} />\r\n      )}\r\n\r\n      {isManageMembersOpen && (<ManageMembers users={data.users.filter(item => item.id !== user.data.id) /* fliltring members without current user */} \r\n        team={{teamId:data._id , teamName: data.name, creators: data.creators}} open={isManageMembersOpenChange} />)}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({ teams: { data }, notes, user }) => ({\r\n  data,\r\n  notes,\r\n  user,\r\n});\r\n\r\nexport default withProtection(connect(mapStateToProps)(TeamDetailsView));\r\n","import axios from 'axios';\r\nimport {\r\n  CREATE_TEAM_STARTED,\r\n  CREATE_TEAM_SUCCESS,\r\n  CREATE_TEAM_FAILURE,\r\n} from './actionTypes';\r\n\r\nconst createTeamStarted = () => ({\r\n  type: CREATE_TEAM_STARTED,\r\n});\r\nconst createTeamSuccess = (data) => ({\r\n  type: CREATE_TEAM_SUCCESS,\r\n  payload: {\r\n    ...data,\r\n  },\r\n});\r\n\r\nconst createTeamFailure = (error) => ({\r\n  type: CREATE_TEAM_FAILURE,\r\n  payload: {\r\n    error,\r\n  },\r\n});\r\n\r\n// eslint-disable-next-line import/prefer-default-export\r\nexport const createTeam = (input) => {\r\n  return (dispatch) => {\r\n    dispatch(createTeamStarted());\r\n    axios\r\n      .post('/teams/', {\r\n        ...input,\r\n      })\r\n      .then(({ data }) => dispatch(createTeamSuccess(data)))\r\n      .catch(({response}) => dispatch(createTeamFailure(response.data.message)));\r\n  };\r\n};\r\n","import React, { useState, useRef } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { createTeam } from '../redux/actions/createTeam';\r\nimport styles from '../styles/TeamActionForm.module.scss';\r\n\r\nconst CreateNote = ({ user,createFunction, open }) => {\r\n\r\n  const color = `#${Math.floor(Math.random() * 16777215).toString(16)}`;\r\n  const [data, setData] = useState({ color });\r\n  const form = useRef()\r\n\r\n  const handleCreate = (e) => {\r\n    e.preventDefault();\r\n    form.current.reset();\r\n    createFunction(data);\r\n    open(false);\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setData({\r\n      ...data,\r\n      admin: { nickname: user.data.nickname, id: user.data.id },\r\n      users: [{ nickname: user.data.nickname, id: user.data.id }],\r\n      [e.target.id]: e.target.value,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <CloseIcon\r\n        fontSize=\"large\"\r\n        onClick={() => open(false)}\r\n        className={styles.icon}\r\n      />\r\n      <h1>\r\n        Only team name needed to create team, so easy{' '}\r\n        <span role=\"img\" aria-label=\"heart-emoji\">\r\n          ❤️\r\n        </span>{' '}\r\n      </h1>\r\n      <form className={styles.form} ref={form} onSubmit={handleCreate} autoComplete=\"off\">\r\n        <TextField onChange={handleChange} label=\"Team name\" id=\"name\" variant=\"outlined\" />\r\n        <Button type=\"submit\" variant=\"contained\" color=\"primary\">\r\n          {' '}\r\n          create\r\n        </Button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({ user}) => ({ user});\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    createFunction: (data) => dispatch(createTeam(data)),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateNote);\r\n","import axios from 'axios';\r\nimport {\r\n  EDIT_TEAM_STARTED,\r\n  EDIT_TEAM_SUCCESS,\r\n  EDIT_TEAM_FAILURE,\r\n} from './actionTypes';\r\n\r\nconst editTeamStarted = () => ({\r\n  type: EDIT_TEAM_STARTED,\r\n});\r\n\r\nconst editTeamSuccess = (data) => ({\r\n  type: EDIT_TEAM_SUCCESS,\r\n  payload: {\r\n    ...data,\r\n  },\r\n});\r\n\r\nconst editTeamFailure = (error) => ({\r\n  type: EDIT_TEAM_FAILURE,\r\n  payload: {\r\n    error,\r\n  },\r\n});\r\n\r\nexport const editTeam = (input) => {\r\n  return (dispatch) => {\r\n    dispatch(editTeamStarted());\r\n    axios\r\n      .put(`/teams/`, {\r\n        ...input,\r\n      })\r\n      .then(({ data }) => dispatch(editTeamSuccess(data)))\r\n      .catch((err) => dispatch(editTeamFailure(err)));\r\n  };\r\n};\r\n","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { ChromePicker } from 'react-color';\r\nimport Button from '@material-ui/core/Button';\r\nimport { TextField } from '@material-ui/core';\r\nimport { editTeam } from '../redux/actions/editTeam';\r\nimport styles from '../styles/TeamActionForm.module.scss';\r\n\r\nconst EditTeam = ({ data, open, updateData }) => {\r\n  const [team, setTeam] = useState({ ...data });\r\n  const [visibility, setVisibility] = useState(false);\r\n\r\n  const handleChange = (e) => {\r\n    setTeam({ ...team, [e.target.id]: e.target.value });\r\n  };\r\n\r\n  const handleTeamColor = (color) => setTeam({ ...team, color: color.hex });\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    open(false);\r\n    updateData(team);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <CloseIcon\r\n        fontSize=\"large\"\r\n        onClick={() => open(false)}\r\n        className={styles.icon}\r\n      />\r\n      <form className={styles.form} onSubmit={handleSubmit}>\r\n        <div className={styles.group}>\r\n          <TextField\r\n            onChange={handleChange}\r\n            label=\"Team name\"\r\n            id=\"name\"\r\n            defaultValue={data.name}\r\n          />\r\n          <Button onClick={() => setVisibility(!visibility)}>Pick color</Button>\r\n          {visibility && (\r\n            <ChromePicker\r\n              className={styles.picker}\r\n              color={team.color}\r\n              onChange={handleTeamColor}\r\n            />\r\n          )}\r\n        </div>\r\n        <Button type=\"submit\" variant=\"contained\" color=\"primary\">\r\n          Done\r\n        </Button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    updateData: (data) => dispatch(editTeam(data)),\r\n  };\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(EditTeam);\r\n","import React, { useContext, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Button from '@material-ui/core/Button';\r\nimport { deleteTeam } from '../redux/actions/deleteTeam';\r\nimport { Context } from '../context/index';\r\nimport styles from '../styles/SimpleTeamCard.module.scss';\r\nimport DeleteDialog from \"./Dialog\";\r\n\r\nconst SimpleTeamCard = ({ data, open, editing, deleteThis }) => {\r\n  const currentDataToEdit = useContext(Context);\r\n  const [dialog,setDialog] = useState(false)\r\n\r\n  const handleDeletion = () => {\r\n    deleteThis({id: data._id});\r\n    setDialog(false);\r\n  };\r\n\r\n  const handleEdition = () => {\r\n    currentDataToEdit.data = {\r\n      id: data._id,\r\n      name: data.name,\r\n      color: data.color,\r\n    };\r\n    open(true);\r\n  };\r\n  return (\r\n    <div className={styles.container}>\r\n      <h1>{data.name}</h1>\r\n      <div className={styles.buttons}>\r\n        <Link className={styles.link} to={`/team/${data._id}`}>\r\n          <Button color=\"primary\">More</Button>\r\n        </Link>\r\n        <Button color=\"primary\" disabled={editing} onClick={handleEdition}>\r\n          Edit\r\n        </Button>\r\n        <Button onClick={()=>setDialog(true)} color=\"secondary\">\r\n          Remove\r\n        </Button>\r\n      </div>\r\n      <DeleteDialog open={dialog} disagreeFnc={()=>setDialog(false)} agreeFnc={handleDeletion} >Are you sure you want to <b>DELETE</b> {data.name} team ? <br/>All notes will be also <b>DELETED</b> !</DeleteDialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    deleteThis: (data) => dispatch(deleteTeam(data)),\r\n  };\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(SimpleTeamCard);\r\n","import axios from 'axios';\r\nimport {ADD_USER_STARTED, ADD_USER_SUCCESS, ADD_USER_FAILURE} from './actionTypes'\r\n\r\nconst addUserStarted = () => ({\r\n    type: ADD_USER_STARTED,\r\n  });\r\n  \r\n  const addUserSuccess = (data) => ({\r\n      type: ADD_USER_SUCCESS,\r\n      payload: {\r\n          ...data\r\n      }\r\n  });\r\n  \r\n  const addUserFailure = (error) => ({\r\n    type: ADD_USER_FAILURE,\r\n    payload: {\r\n      error,\r\n    },\r\n  });\r\n\r\nexport const addUser = input => {\r\n    return dispatch => {\r\n        dispatch(addUserStarted())\r\n        axios.post('/teams/user', {\r\n            ...input\r\n        })\r\n        .then(({data}) => dispatch(addUserSuccess(data)))\r\n        .catch(err => dispatch(addUserFailure(err)))\r\n    }\r\n}","import axios from 'axios';\r\nimport {REMOVE_INVITATION_STARTED, REMOVE_INVITATION_SUCCESS, REMOVE_INVITATION_FAILURE} from './actionTypes'\r\n\r\nconst removeInvitationStarted = () => ({\r\n    type: REMOVE_INVITATION_STARTED,\r\n  });\r\n  \r\n  const removeInvitationSuccess = (data) => ({\r\n    type: REMOVE_INVITATION_SUCCESS,\r\n    payload: {\r\n        ...data\r\n    }\r\n  });\r\n  \r\n  const removeInvitationFailure = (error) => ({\r\n    type: REMOVE_INVITATION_FAILURE,\r\n    payload: {\r\n      error,\r\n    },\r\n  });\r\n\r\nexport const removeInvitation = input => {\r\n    return dispatch => {\r\n        dispatch(removeInvitationStarted())\r\n        axios.delete('/user/invite', {\r\n            data: input\r\n        })\r\n        .then(({data}) => dispatch(removeInvitationSuccess(data)))\r\n        .catch(err => dispatch(removeInvitationFailure(err)))\r\n    }\r\n}","import React from 'react'\r\nimport {connect} from 'react-redux';\r\nimport Button from '@material-ui/core/Button';\r\nimport styles from '../styles/Invitation.module.scss';\r\nimport { addUser } from '../redux/actions/addUser';\r\nimport { removeInvitation } from '../redux/actions/removeInvitation';\r\n\r\nconst Invitation = ({user,data,acceptInvitation, rejectInvitation}) => {\r\n\r\n    const state = {userId: user.data.id, ...data}\r\n\r\n    const handleAcceptation = () =>{\r\n        acceptInvitation(state)\r\n    };\r\n\r\n    const handleRejection = () => {\r\n        rejectInvitation(state)\r\n    }\r\n\r\n    return(\r\n        <div className={styles.container}>\r\n            <h3>{data.teamName}</h3>\r\n                <Button color=\"primary\" size=\"small\" onClick={handleAcceptation} >\r\n                    Accept\r\n                </Button>\r\n                <Button color=\"secondary\" size=\"small\" onClick={handleRejection} >\r\n                    Reject\r\n                </Button>\r\n        </div>\r\n    )\r\n};\r\n\r\nconst mapStateToProps = ({user}) => ({user});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    acceptInvitation: data => dispatch(addUser(data)),\r\n    rejectInvitation: data => dispatch(removeInvitation(data))\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Invitation);","import React, { useState, useEffect, useContext } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { Context } from '../context/index';\r\nimport { getTeams } from '../redux/actions/getTeams';\r\nimport withProtection from '../hoc/withProtection';\r\nimport CreateTeam from '../components/CreateTeam';\r\nimport EditTeam from '../components/EditTeam';\r\nimport SimpleTeamCard from '../components/SimpleTeamCard';\r\nimport styles from '../styles/ManageTeamsView.module.scss';\r\nimport AddAction from '../components/AddAction';\r\nimport Invitation from '../components/Invitation';\r\n\r\nconst ManageTeamsView = ({ user, teams, setTeams }) => {\r\n  const [isCreateTeamOpen, isCreateTeamOpenChange] = useState(false);\r\n  const [isEditTeamOpen, isEditTeamOpenChange] = useState(false);\r\n  const [ownedTeams, setOwnedTeams] = useState({});\r\n  const editingTeam = useContext(Context);\r\n\r\n  useEffect(() => {\r\n    if (!teams.data.length && user.teamsId.length) setTeams(user.teamsId);\r\n    const filtredTeams = teams.data.filter(\r\n      (team) => team.admin.id === user.data.id,\r\n    );\r\n    setOwnedTeams(filtredTeams);\r\n  }, [teams.data]);\r\n\r\n  const handleClick = () => {\r\n    isCreateTeamOpenChange(!isCreateTeamOpen);\r\n  };\r\n  return (\r\n    <div className={styles.container}>\r\n      <div className={styles.list}>\r\n        {ownedTeams.length ? (\r\n          ownedTeams.map((team) => (\r\n            <SimpleTeamCard\r\n              key={team.name}\r\n              data={team}\r\n              open={isEditTeamOpenChange}\r\n              editing={isEditTeamOpen}\r\n            />\r\n          ))\r\n        ) : (\r\n          <h1>\r\n            Create your team{' '}\r\n            <span role=\"img\" aria-label=\"upset-emoji\">\r\n              ➡️\r\n            </span>\r\n          </h1>\r\n        )}\r\n      </div>\r\n      <div className={styles.actions}>\r\n        <AddAction text=\"Create Team\" emoji=\"✍🏿\" onClick={handleClick} />\r\n        {(teams.error && teams.error.includes(\"Team\")) && (\r\n          <Typography component=\"p\" variant=\"subtitle1\" color=\"secondary\">\r\n            {teams.error}\r\n          </Typography>\r\n        )}\r\n        <div className={styles.invitations}>\r\n          <h2>Invitations</h2>\r\n          {user.invitations.map((item) => (\r\n            <Invitation data={item} />\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {isCreateTeamOpen && <CreateTeam open={isCreateTeamOpenChange} />}\r\n      {isEditTeamOpen && (\r\n        <EditTeam open={isEditTeamOpenChange} data={editingTeam.data} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({ user, teams }) => ({ user, teams });\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    setTeams: (data) => dispatch(getTeams(data)),\r\n  };\r\n};\r\nexport default withProtection(\r\n  connect(mapStateToProps, mapDispatchToProps)(ManageTeamsView),\r\n);\r\n","import axios from 'axios';\r\nimport {\r\n  EDIT_USER_STARTED,\r\n  EDIT_USER_SUCCESS,\r\n  EDIT_USER_FAILURE,\r\n} from './actionTypes';\r\n\r\nconst editUserStarted = () => ({\r\n  type: EDIT_USER_STARTED,\r\n});\r\n\r\nconst editUserSuccess = (data) => ({\r\n  type: EDIT_USER_SUCCESS,\r\n  payload: {\r\n    ...data,\r\n  },\r\n});\r\n\r\nconst editUserFailure = (error) => ({\r\n  type: EDIT_USER_FAILURE,\r\n  payload: {\r\n    error,\r\n  },\r\n});\r\n\r\nexport const editUser = (input) => {\r\n  return (dispatch) => {\r\n    dispatch(editUserStarted());\r\n    axios\r\n      .put(`/user/${input.type}`, {\r\n        ...input,\r\n      })\r\n      .then(({ data }) => dispatch(editUserSuccess(data)))\r\n      .catch(({response}) => dispatch(editUserFailure(response.data)));\r\n  };\r\n};\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport {connect} from 'react-redux';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport styles from '../styles/ProfileAction.module.scss'\r\nimport {editUser} from '../redux/actions/editUser'\r\n\r\nconst ProfileAction = ({type,user,updateUser}) => {\r\n\r\n    const [data, setData] = useState({type});\r\n    const form = useRef();\r\n\r\n    const handleChange = e => {\r\n        if(type === \"nickname\") setData({...data, last: user.data.nickname, [e.target.name]: e.target.value})\r\n        else setData({...data, id: user.data.id, [e.target.name]: e.target.value});\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        form.current.reset();\r\n        updateUser(data);\r\n    }\r\n\r\n    console.log(data);\r\n    return(\r\n        <div className={styles.container}>\r\n            <h2>Change {type}</h2>\r\n\r\n            <form onSubmit={handleSubmit} className={styles.form}  ref={form}>\r\n                {type !== 'nickname' && (<TextField\r\n                    variant=\"outlined\"\r\n                    required\r\n                    name=\"last\"\r\n                    label={`Current ${type}`}\r\n                    type={type}\r\n                    id={`Current ${type}`}\r\n                    onChange={handleChange}\r\n                    error={user.error?.message && user.error?.type === type}\r\n                />)}\r\n                <TextField\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    required\r\n                    name=\"updated\"\r\n                    label={`New ${type}`}\r\n                    type={type}\r\n                    id={`New ${type}`}\r\n                    onChange={handleChange}\r\n                    error={user.error?.message && user.error?.type === type}\r\n                />\r\n                { (user.error?.message  && user.error?.type === type) && <Typography component=\"p\" variant=\"subtitle1\" color=\"secondary\" >{user.error.message}</Typography>}\r\n                <Button    \r\n                    type=\"submit\"\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                >Change</Button>\r\n            </form>\r\n        </div>\r\n    )\r\n};\r\nconst mapStateToProps = ({user}) => ({user});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    updateUser: data => dispatch(editUser(data))\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ProfileAction);","import React, {useEffect, useState} from 'react'\r\nimport {connect} from 'react-redux'\r\nimport { Typography, Button } from '@material-ui/core'\r\nimport styles from '../styles/ProfileView.module.scss'\r\nimport Action from '../components/ProfileAction'\r\nimport {getTeams} from '../redux/actions/getTeams'\r\nimport {deleteTeam} from '../redux/actions/deleteTeam';\r\nimport {deleteUser} from '../redux/actions/deleteUser';\r\nimport DeleteDialog from '../components/Dialog';\r\nimport withProtection from '../hoc/withProtection';\r\n\r\nconst ProfileView = ({user,teams,setTeams,deleteUsersTeam, deleteCurrentUser})=>{\r\n\r\n    const [ownTeams, setOwnTeams] = useState([])\r\n    const [dialog, setDialog] = useState(false);\r\n\r\n    useEffect(()=> {\r\n        if (user.teamsId.length && !teams.data.length) setTeams(user.teamsId);\r\n        if(teams.data.length){\r\n            const ownedTeams = teams.data.filter(team => team.admin.id === user.data.id ).map(item => item._id);\r\n            setOwnTeams(ownedTeams);    \r\n        }\r\n    },[user,teams])\r\n\r\n    const handleDeletion = () => {\r\n        setDialog(false);\r\n        ownTeams.forEach(teamId => deleteUsersTeam({teamId}));\r\n        deleteCurrentUser({id: user.data.id});\r\n    }\r\n\r\n    return(\r\n    <div className={styles.container}>\r\n        <div className={styles.container__profile}>\r\n            <Typography variant=\"h2\" gutterBottom >{user.data.nickname}</Typography>\r\n            <Typography variant=\"h6\" gutterBottom >Subscription type : Normal </Typography>\r\n            <Button size=\"large\" color=\"secondary\" onClick={()=> setDialog(true)} >Delete account</Button>\r\n        </div>\r\n        <div className={styles.container__actions}>\r\n            <Action type=\"nickname\" />\r\n            <Action type=\"email\" />\r\n            <Action type=\"password\" />\r\n        </div>\r\n        <DeleteDialog open={dialog} disagreeFnc={()=> setDialog(false)} agreeFnc={handleDeletion} >\r\n            Are you sure you want to <b>DELETE</b> your account ? <br/> All teams and them notes you own will be <b>DELETED</b>\r\n        </DeleteDialog>\r\n    </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = ({user,teams}) =>({user,teams});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    setTeams: (teamsId) => dispatch(getTeams(teamsId)),\r\n    deleteUsersTeam: (teamsId) => dispatch(deleteTeam(teamsId)),\r\n    deleteCurrentUser: (id) => dispatch(deleteUser(id)),\r\n});\r\n\r\nexport default withProtection(connect(mapStateToProps, mapDispatchToProps)(ProfileView));","import axios from 'axios';\r\nimport {DELETE_USER_STARTED, DELETE_USER_SUCCESS, DELETE_USER_FAILURE} from './actionTypes'\r\n\r\nconst deleteUserStarted = () => ({\r\n    type: DELETE_USER_STARTED,\r\n  });\r\n  \r\n  const deleteUserSuccess = () => ({\r\n    type: DELETE_USER_SUCCESS,\r\n  });\r\n  \r\n  const deleteUserFailure = (error) => ({\r\n    type: DELETE_USER_FAILURE,\r\n    payload: {\r\n      error,\r\n    },\r\n  });\r\n\r\nexport const deleteUser = input => {\r\n    return dispatch => {\r\n        dispatch(deleteUserStarted())\r\n        axios.delete('/user', {\r\n            data: input\r\n        })\r\n        .then(() => dispatch(deleteUserSuccess()))\r\n        .catch(err => dispatch(deleteUserFailure(err)))\r\n    }\r\n}","import React from 'react';\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { Context } from '../context/index';\nimport store from '../redux/store/index';\nimport SignUpView from './SignUpView';\nimport SignInView from './SignInView';\nimport MainView from './MainView';\nimport TeamsView from './TeamsView';\nimport NoteDetailsView from './NoteDetailsView';\nimport TeamDetailsView from './TeamDetailsView';\nimport ManageTeamsView from './ManageTeamsView';\nimport ProfileView from './ProfileView';\n\nfunction Root() {\n  return (\n    <Provider store={store}>\n      <Context.Provider value={{}}>\n        <Router>\n          <Switch> \n            <Route exact path=\"/\" component={MainView} />\n            <Route exact path=\"/teams\" component={TeamsView} />\n            <Route exact path=\"/team/:id\" component={TeamDetailsView} />\n            <Route exact path=\"/profile/teams\" component={ManageTeamsView} />\n            <Route exact path=\"/note/:id\" component={NoteDetailsView} />\n            <Route exact path=\"/profile\" component={ProfileView} />\n            <Route exact path=\"/signin\" component={SignInView} />\n            <Route exact path=\"/signup\" component={SignUpView} />\n          </Switch>\n        </Router>\n      </Context.Provider>\n    </Provider>\n  );\n}\n\nexport default Root;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Root from './views/Root';\nimport * as serviceWorker from './serviceWorker';\nimport styles from './styles/GlobalStyle.module.scss'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Root className={styles} />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"TeamActionForm_container__3PaPx\",\"form\":\"TeamActionForm_form__JYLpE\",\"icon\":\"TeamActionForm_icon__2uFvo\",\"group\":\"TeamActionForm_group__3PzlO\",\"picker\":\"TeamActionForm_picker__3p-Jm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"Link_link__3uvFA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"TeamDetailsView_container__dcjY7\",\"header\":\"TeamDetailsView_header__XXgpN\",\"heading\":\"TeamDetailsView_heading__Xf2IP\",\"info\":\"TeamDetailsView_info__1Qub9\",\"actions__wrapper\":\"TeamDetailsView_actions__wrapper__1Rpcm\",\"action\":\"TeamDetailsView_action__1g5Ax\",\"notes\":\"TeamDetailsView_notes__1GZCc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ManageMembers_container__2xkJr\",\"list\":\"ManageMembers_list__2heMO\",\"list__header\":\"ManageMembers_list__header__YzjoF\",\"form\":\"ManageMembers_form__3eYPG\",\"icon\":\"ManageMembers_icon__1pvYJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ManageTeamsView_container__1bep2\",\"list\":\"ManageTeamsView_list__EVLGr\",\"actions\":\"ManageTeamsView_actions__2ohdM\",\"invitations\":\"ManageTeamsView_invitations__1qgYF\"};"],"sourceRoot":""}